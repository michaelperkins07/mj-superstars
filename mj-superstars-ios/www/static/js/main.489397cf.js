/*! For license information please see main.489397cf.js.LICENSE.txt */
(()=>{"use strict";var e={676(e,t,n){n.d(t,{AuthAPI:()=>x,Qe:()=>j,EC:()=>S,jZ:()=>T,lu:()=>A,JournalAPI:()=>E,_h:()=>_,uB:()=>N,Iw:()=>P,Q9:()=>w,ee:()=>C,tC:()=>g,QS:()=>k});var r=n(957);const o="mj_offline_queue_requests",i=["/moods","/tasks","/journal","/rituals/morning","/rituals/evening","/conversations","/coping/tools","/notifications/subscribe","/users/me"],s=["POST","PUT","PATCH","DELETE"];function a(e,t){return!!s.includes(null===t||void 0===t?void 0:t.toUpperCase())&&i.some(t=>e.startsWith(t))}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=c();return n.length>=50&&(console.warn("Offline queue full, dropping oldest entry"),n.shift()),n.push({id:Date.now()+Math.random().toString(36).slice(2,7),endpoint:e,method:t.method||"POST",body:t.body,timestamp:Date.now()}),localStorage.setItem(o,JSON.stringify(n)),console.log("Queued offline request: ".concat(t.method||"POST"," ").concat(e)),!0}catch(n){return console.error("Failed to queue offline request:",n),!1}}function c(){try{const e=localStorage.getItem(o);if(!e)return[];const t=JSON.parse(e),n=Date.now(),r=t.filter(e=>n-e.timestamp<864e5);return r.length!==t.length&&localStorage.setItem(o,JSON.stringify(r)),r}catch(e){return console.error("Failed to read offline queue:",e),[]}}function u(){return c().length}async function d(e){const t=c();if(0===t.length)return{succeeded:0,failed:0};console.log("Replaying ".concat(t.length," queued offline requests..."));let n=0,r=0;const i=[];for(const o of t)try{await e(o.endpoint,{method:o.method,body:o.body}),n++,console.log("Replayed: ".concat(o.method," ").concat(o.endpoint))}catch(s){console.error("Failed to replay: ".concat(o.method," ").concat(o.endpoint),s),r++,401!==s.status&&403!==s.status&&i.push(o)}return localStorage.setItem(o,JSON.stringify(i)),console.log("Queue replay complete: ".concat(n," succeeded, ").concat(r," failed, ").concat(i.length," remaining")),{succeeded:n,failed:r,remaining:i.length}}function h(e){const t=async()=>{const t=u();if(t>0){console.log("Back online \u2014 replaying ".concat(t," queued requests"));const n=await d(e);window.dispatchEvent(new CustomEvent("offline:synced",{detail:n}))}};return window.addEventListener("online",t),navigator.onLine&&u()>0&&setTimeout(()=>t(),2e3),()=>window.removeEventListener("online",t)}const f={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://mj-superstars.onrender.com/api";let p=null,m=null;const g={setTokens(e,t){p=e,m=t,localStorage.setItem("mj_access_token",e),localStorage.setItem("mj_refresh_token",t)},getAccessToken:()=>(p||(p=localStorage.getItem("mj_access_token")),p),getRefreshToken:()=>(m||(m=localStorage.getItem("mj_refresh_token")),m),clearTokens(){p=null,m=null,localStorage.removeItem("mj_access_token"),localStorage.removeItem("mj_refresh_token")},isAuthenticated(){return!!this.getAccessToken()}};let y=null;async function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(f).concat(e),o=(0,r.A)({"Content-Type":"application/json"},t.headers),i=g.getAccessToken();i&&(o.Authorization="Bearer ".concat(i));try{const e=await fetch(n,(0,r.A)((0,r.A)({},t),{},{headers:o}));if(401===e.status&&g.getRefreshToken()){y||(y=async function(){try{const e=await fetch("".concat(f,"/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:g.getRefreshToken()})});if(e.ok){const t=await e.json();return g.setTokens(t.access_token,g.getRefreshToken()),!0}return!1}catch(e){return!1}}().finally(()=>{y=null}));if(await y){o.Authorization="Bearer ".concat(g.getAccessToken());return b(await fetch(n,(0,r.A)((0,r.A)({},t),{},{headers:o})))}throw g.clearTokens(),window.dispatchEvent(new CustomEvent("auth:logout")),new Error("Session expired")}return b(e)}catch(lc){if(!navigator.onLine||"Failed to fetch"===lc.message||"TypeError"===lc.name){a(e,t.method)&&l(e,t);const n=new Error("You're offline. This will sync when you reconnect.");throw n.code="OFFLINE",n.status=0,n.isOffline=!0,n}throw console.error("API request failed:",lc),lc}}async function b(e){const t=await e.json();if(!e.ok){const n=new Error(t.error||"Request failed");throw n.code=t.code,n.status=e.status,n}return t}h(v);const x={async register(e,t,n){const r=await v("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t,display_name:n})});return g.setTokens(r.tokens.access_token,r.tokens.refresh_token),r},async login(e,t){const n=await v("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return g.setTokens(n.tokens.access_token,n.tokens.refresh_token),n},async logout(){try{await v("/auth/logout",{method:"POST",body:JSON.stringify({refresh_token:g.getRefreshToken()})})}finally{g.clearTokens()}},forgotPassword:async e=>v("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})}),resetPassword:async(e,t)=>v("/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),changePassword:async(e,t)=>v("/auth/change-password",{method:"POST",body:JSON.stringify({current_password:e,new_password:t})})},w={async signInWithApple(e,t,n){const r=await v("/social-auth/apple",{method:"POST",body:JSON.stringify({id_token:e,authorization_code:t,user:n})});return g.setTokens(r.tokens.access_token,r.tokens.refresh_token),r},async signInWithGoogle(e,t){const n=await v("/social-auth/google",{method:"POST",body:JSON.stringify({id_token:e,access_token:t})});return g.setTokens(n.tokens.access_token,n.tokens.refresh_token),n},async signInWithX(e,t,n,r,o,i){const s=await v("/social-auth/x",{method:"POST",body:JSON.stringify({oauth_token:e,oauth_token_secret:t,user_id:n,screen_name:r,name:o,profile_image_url:i})});return g.setTokens(s.tokens.access_token,s.tokens.refresh_token),s},async signInWithInstagram(e,t,n,r,o){const i=await v("/social-auth/instagram",{method:"POST",body:JSON.stringify({access_token:e,user_id:t,username:n,name:r,profile_picture_url:o})});return g.setTokens(i.tokens.access_token,i.tokens.refresh_token),i},getLinkedAccounts:async()=>v("/social-auth/accounts"),unlinkAccount:async e=>v("/social-auth/accounts/".concat(e),{method:"DELETE"})},k={getProfile:async()=>v("/users/me"),updateProfile:async e=>v("/users/me",{method:"PUT",body:JSON.stringify(e)}),updateCommunicationStyle:async e=>v("/users/me/communication-style",{method:"PUT",body:JSON.stringify(e)}),updatePersonalization:async e=>v("/users/me/personalization",{method:"PUT",body:JSON.stringify(e)}),completeOnboarding:async e=>v("/users/me/onboarding",{method:"POST",body:JSON.stringify({onboarding_data:e})}),exportData:async()=>v("/users/me/export")},S={async list(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return v("/conversations?".concat(e))},create:async e=>v("/conversations",{method:"POST",body:JSON.stringify({initial_mood:e})}),async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return v("/conversations/".concat(e,"?message_limit=").concat(t))},async sendMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v("/conversations/".concat(e,"/messages"),{method:"POST",body:JSON.stringify({content:t,is_voice:n})})},end:async(e,t)=>v("/conversations/".concat(e,"/end"),{method:"POST",body:JSON.stringify({final_mood:t})}),delete:async e=>v("/conversations/".concat(e),{method:"DELETE"})},_={async list(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return v("/moods?".concat(e))},async log(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v("/moods",{method:"POST",body:JSON.stringify((0,r.A)({mood_score:e},t))})},async getTrends(){return v("/moods/trends?period=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"7d"))},getToday:async()=>v("/moods/today"),delete:async e=>v("/moods/".concat(e),{method:"DELETE"})},C={async list(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return v("/tasks?".concat(e))},getToday:async()=>v("/tasks/today"),create:async e=>v("/tasks",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>v("/tasks/".concat(e),{method:"PUT",body:JSON.stringify(t)}),async complete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v("/tasks/".concat(e,"/complete"),{method:"POST",body:JSON.stringify(t)})},skip:async(e,t)=>v("/tasks/".concat(e,"/skip"),{method:"POST",body:JSON.stringify({reason:t})}),delete:async e=>v("/tasks/".concat(e),{method:"DELETE"}),async getSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v("/tasks/suggest",{method:"POST",body:JSON.stringify(e)})}},E={async list(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return v("/journal?".concat(e))},get:async e=>v("/journal/".concat(e)),create:async e=>v("/journal",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>v("/journal/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>v("/journal/".concat(e),{method:"DELETE"}),async generatePrompt(){return v("/journal/prompts/generate?type=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reflection"))},getPromptLibrary:async()=>v("/journal/prompts/library"),getStats:async()=>v("/journal/stats")},P={getDashboard:async()=>v("/progress/dashboard"),getStreaks:async()=>v("/progress/streaks"),async getAchievements(){return v("/progress/achievements?earned_only=".concat(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))},getWeeklyStory:async()=>v("/progress/weekly-story"),async getWeeklyStoryHistory(){return v("/progress/weekly-story/history?limit=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10))},getInsights:async()=>v("/progress/insights"),markInsightRead:async e=>v("/progress/insights/".concat(e,"/viewed"),{method:"PUT"})},T={async getTools(e){const t=e?"?category=".concat(e):"";return v("/coping/tools".concat(t))},getTool:async e=>v("/coping/tools/".concat(e)),createTool:async e=>v("/coping/tools",{method:"POST",body:JSON.stringify(e)}),updateTool:async(e,t)=>v("/coping/tools/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteTool:async e=>v("/coping/tools/".concat(e),{method:"DELETE"}),logToolUse:async(e,t)=>v("/coping/tools/".concat(e,"/use"),{method:"POST",body:JSON.stringify(t)}),getRecommendations:async e=>v("/coping/recommend?mood=".concat(e)),getQuickExercises:async()=>v("/coping/quick"),getSafetyPlan:async()=>v("/coping/safety-plan"),updateSafetyPlan:async e=>v("/coping/safety-plan",{method:"PUT",body:JSON.stringify(e)})},j={async getFeed(e){const t=new URLSearchParams({limit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10});return e&&t.append("type",e),v("/content/feed?".concat(t))},getDailyAffirmation:async()=>v("/content/daily-affirmation"),async getQuotes(e){const t=new URLSearchParams({limit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:5});return e&&t.append("category",e),v("/content/quotes?".concat(t))},async getChallenges(e){const t=new URLSearchParams({limit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:3});return e&&t.append("mood",e),v("/content/challenges?".concat(t))},interact:async(e,t)=>v("/content/".concat(e,"/interact"),{method:"POST",body:JSON.stringify({interaction_type:t})}),getSaved:async()=>v("/content/saved")},N={async getHistory(){return v("/notifications/history?limit=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:50))},subscribe:async e=>v("/notifications/subscribe",{method:"POST",body:JSON.stringify(e)}),unsubscribe:async e=>v("/notifications/unsubscribe",{method:"DELETE",body:JSON.stringify({endpoint:e})}),getScheduled:async()=>v("/notifications/scheduled"),createScheduled:async e=>v("/notifications/scheduled",{method:"POST",body:JSON.stringify(e)}),updateScheduled:async(e,t)=>v("/notifications/scheduled/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteScheduled:async e=>v("/notifications/scheduled/".concat(e),{method:"DELETE"}),sendTest:async()=>v("/notifications/test",{method:"POST"})},A={createSession:async()=>v("/guest/session",{method:"POST"}),async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Friend",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return v("/guest/chat",{method:"POST",body:JSON.stringify({content:e,history:t,guest_name:n,session_id:r,user_context:o})})},async migrateToAccount(e,t,n,r){const o=await v("/guest/migrate",{method:"POST",body:JSON.stringify({email:e,password:t,display_name:n,guest_data:r})});return g.setTokens(o.tokens.access_token,o.tokens.refresh_token),o}}},306(e,t,n){var r=n(643),o=n(261);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,I=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){G(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,_e=null;function Ce(e){if(e=xo(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function Ee(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Pe(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function je(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Se||null!==_e)&&(je(),Pe())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Le=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Le=!1}function De(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Ie=null,Fe=!1,Be=null,Ve={onError:function(e){Me=!0,Ie=e}};function ze(e,t,n,r,o,i,s,a,l){Me=!1,Ie=null,De.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return He(o),e;if(s===r)return He(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Je(e);if(null!==t)return t;e=e.sibling}return null}var $e=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Ge=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,_t,Ct,Et=!1,Pt=[],Tt=null,jt=null,Nt=null,At=new Map,Ot=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function It(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Bt),Ot.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Pt.length){zt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==jt&&zt(jt,e),null!==Nt&&zt(Nt,e),At.forEach(t),Ot.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)It(n),null===n.blockedOn&&Lt.shift()}var Wt=x.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=1,$t(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Jt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=4,$t(e,t,n,r)}finally{bt=o,Wt.transition=i}}function $t(e,t,n,r){if(Ht){var o=Kt(e,t,n,r);if(null===o)Hr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,o),!0;case"dragenter":return jt=Mt(jt,e,t,n,r,o),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return At.set(i,Mt(At.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,Mt(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Kt(e,t,n,r))&&Hr(e,t,r,Qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Kt(e,t,n,r){if(Qt=null,null!==(e=bo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in Gt?Gt.value:Gt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=I({},cn,{view:0,detail:0}),hn=on(dn),fn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(I({},fn,{dataTransfer:0})),gn=on(I({},dn,{relatedTarget:0})),yn=on(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),xn=on(I({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return _n}var En=I({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(En),Tn=on(I({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=on(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=I({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(An),Ln=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Dn,In=u&&(!Rn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Jr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,$n=null;function Qn(e){Fr(e,0)}function Kn(e){if($(wo(e)))return e}function Yn(e,t){if("change"===e)return t}var Gn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Gn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Jn&&(Jn.detachEvent("onpropertychange",nr),$n=Jn=null)}function nr(e){if("value"===e.propertyName&&Kn($n)){var t=[];qn(t,$n,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Jn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn($n)}function ir(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Jr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Cr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Cr("animationend"),Pr=Cr("animationiteration"),Tr=Cr("animationstart"),jr=Cr("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Ar.length;Lr++){var Rr=Ar[Lr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Pr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=Ie;Me=!1,Ie=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Ir(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Ir(o,a,c),i=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var o=qt;break;case 4:o=Jt;break;default:o=$t}n=o.bind(null,t,n,e),o=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Ae(function(){var r=i,o=we(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Er:case Pr:case Tr:l=yn;break;case jr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wo(l),f=null==c?a:wo(c),(a=new u(m,p+"leave",l,n,o)).target=d,a.relatedTarget=f,m=null,bo(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=$r(f))p++;for(f=0,m=h;m;m=$r(m))f++;for(;0<p-f;)u=$r(u),p--;for(;0<f-p;)h=$r(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=$r(u),h=$r(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Hn(a))if(Gn)g=sr;else{g=or;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(s,g,n,o):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wo(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,o)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=en()):(Xt="value"in(Gt=o)?Gt.value:Gt.textContent,Un=!0)),0<(y=Jr(r,b)).length&&(b=new xn(b,e,null,n,o),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Xt=Gt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Jr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=v))}Fr(s,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift(qr(e,i,o)),null!=(i=Oe(e,t))&&r.push(qr(e,i,o))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Oe(n,i))&&s.unshift(qr(n,l,a)):o||null!=(l=Oe(n,i))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ko(e){return e[po]||null}var So=[],_o=-1;function Co(e){return{current:e}}function Eo(e){0>_o||(e.current=So[_o],So[_o]=null,_o--)}function Po(e,t){_o++,So[_o]=e.current,e.current=t}var To={},jo=Co(To),No=Co(!1),Ao=To;function Oo(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){Eo(No),Eo(jo)}function Do(e,t,n){if(jo.current!==To)throw Error(i(168));Po(jo,t),Po(No,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return I({},n,r)}function Io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Ao=jo.current,Po(jo,e),Po(No,No.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Mo(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,Eo(No),Eo(jo),Po(jo,e)):Eo(No),Po(No,n)}var Bo=null,Vo=!1,zo=!1;function Uo(e){null===Bo?Bo=[e]:Bo.push(e)}function Wo(){if(!zo&&null!==Bo){zo=!0;var e=0,t=bt;try{var n=Bo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,Vo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),$e(Ze,Wo),o}finally{bt=t,zo=!1}}return null}var Ho=[],qo=0,Jo=null,$o=0,Qo=[],Ko=0,Yo=null,Go=1,Xo="";function Zo(e,t){Ho[qo++]=$o,Ho[qo++]=Jo,Jo=e,$o=t}function ei(e,t,n){Qo[Ko++]=Go,Qo[Ko++]=Xo,Qo[Ko++]=Yo,Yo=e;var r=Go;e=Xo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Go=1<<32-st(t)+o|n<<o|r,Xo=i+e}else Go=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Jo;)Jo=Ho[--qo],Ho[qo]=null,$o=Ho[--qo],Ho[qo]=null;for(;e===Yo;)Yo=Qo[--Ko],Qo[Ko]=null,Xo=Qo[--Ko],Qo[Ko]=null,Go=Qo[--Ko],Qo[Ko]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Go,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=x.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&bi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case k:return(t=Ic(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Rc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case k:return n.key===o?u(e,t,n,r):null;case O:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=s(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=p(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Zo(o,m),c}function g(o,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(o,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(o,v.value,c))&&(a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return ii&&Zo(o,g),u}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=p(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(o,e)}),ii&&Zo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=yi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((i=Rc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=yi(r,i,s),l.return=r,r=l)}return a(r);case k:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Ic(s,r.mode,l)).return=r,r=i}return a(r);case O:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(D(s))return g(r,i,s,l);vi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Mc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=xi(!0),ki=xi(!1),Si=Co(null),_i=null,Ci=null,Ei=null;function Pi(){Ei=Ci=_i=null}function Ti(e){var t=Si.current;Eo(Si),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){_i=e,Ei=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===_i)throw Error(i(308));Ci=e,_i.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Oi=null;function Li(e){null===Oi?Oi=[e]:Oi.push(e)}function Ri(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Li(t)):(n.next=o.next,o.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Di(e,n)}return null===(o=r.interleaved)?(t.next=t,Li(r)):(t.next=o.next,o.next=t),r.interleaved=t,Di(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var o=e.updateQueue;Mi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=I({},d,h);break e;case 2:Mi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var qi={},Ji=Co(qi),$i=Co(qi),Qi=Co(qi);function Ki(e){if(e===qi)throw Error(i(174));return e}function Yi(e,t){switch(Po(Qi,t),Po($i,e),Po(Ji,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Ji),Po(Ji,t)}function Gi(){Eo(Ji),Eo($i),Eo(Qi)}function Xi(e){Ki(Qi.current);var t=Ki(Ji.current),n=le(t,e.type);t!==n&&(Po($i,e),Po(Ji,n))}function Zi(e){$i.current===e&&(Eo(Ji),Eo($i))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=x.ReactCurrentDispatcher,is=x.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function ys(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function xs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Dl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ks(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function _s(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Ms(Ps.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,As(9,Es.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&ss)||Cs(n,t,o)}return o}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&js(e)}function Ps(e,t,n){return n(function(){Ts(t)&&js(e)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function js(e){var t=Di(e,1);null!==t&&tc(t,e,1,-1)}function Ns(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return bs().memoizedState}function Ls(e,t,n,r){var o=vs();as.flags|=e,o.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Rs(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=As(t,n,i,r))}as.flags|=e,o.memoizedState=As(1|t,n,i,r)}function Ds(e,t){return Ls(8390656,8,e,t)}function Ms(e,t){return Rs(2048,8,e,t)}function Is(e,t){return Rs(4,2,e,t)}function Fs(e,t){return Rs(4,4,e,t)}function Bs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Bs.bind(null,t,e),n)}function zs(){}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Dl|=n,e.baseState=!0),t)}function qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Js(){return bs().memoizedState}function $s(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Ys(t,n);else if(null!==(n=Ri(e,t,n,r))){tc(n,e,r,Zl()),Gs(n,t,r)}}function Qs(e,t,n){var r=ec(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Li(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ri(e,t,o,r))&&(tc(n,e,r,o=Zl()),Gs(n,t,r))}}function Ks(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:Ai,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Ai,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4194308,4,Bs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$s.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ns,useDebugValue:zs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=qs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=vs();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&ss)||Cs(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ds(Ps.bind(null,r,s,e),[e]),r.flags|=2048,As(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Tl.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=(Go&~(1<<32-st(Go)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ai,useCallback:Us,useContext:Ai,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Is,useLayoutEffect:Fs,useMemo:Ws,useReducer:ws,useRef:Os,useState:function(){return ws(xs)},useDebugValue:zs,useDeferredValue:function(e){return Hs(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(xs)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:Js,unstable_isNewReconciler:!1},ta={readContext:Ai,useCallback:Us,useContext:Ai,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Is,useLayoutEffect:Fs,useMemo:Ws,useReducer:ks,useRef:Os,useState:function(){return ks(xs)},useDebugValue:zs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[ks(xs)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:Js,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),o=ec(e),i=Bi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(tc(t,e,o,r),zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),o=ec(e),i=Bi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(tc(t,e,o,r),zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),o=Bi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Vi(e,o,r))&&(tc(t,e,r,n),zi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=To,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(o=Lo(t)?Ao:jo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oo(e,o):To),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ii(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ai(i):(i=Lo(t)?Ao:jo.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Wi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Bi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function pa(e,t,n){(n=Bi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var va=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?ki(t,null,n,r):wi(t,e.child,n,r)}function wa(e,t,n,r,o){n=n.render;var i=t.ref;return Ni(t,o),r=gs(e,t,n,r,i,o),n=ys(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,xa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function ka(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Sa(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return Ea(e,t,n,r,o)}function _a(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Po(Ol,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Po(Ol,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Po(Ol,Al),Al|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Po(Ol,Al),Al|=r;return xa(e,t,o,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,o){var i=Lo(n)?Ao:jo.current;return i=Oo(t,i),Ni(t,o),n=gs(e,t,n,r,i,o),r=ys(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,xa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Pa(e,t,n,r,o){if(Lo(n)){var i=!0;Io(t)}else i=!1;if(Ni(t,o),null===t.stateNode)Ua(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Oo(t,c=Lo(n)?Ao:jo.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mi=!1;var h=t.memoizedState;s.state=h,Wi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||No.current||Mi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Oo(t,l=Lo(n)?Ao:jo.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mi=!1,h=t.memoizedState,s.state=h,Wi(t,r,s,o);var p=t.memoizedState;a!==d||h!==p||No.current||Mi?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mi||ia(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,i,o)}function Ta(e,t,n,r,o,i){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Wa(e,t,i);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):xa(e,t,a,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Yi(e,t.containerInfo)}function Na(e,t,n,r,o){return pi(),mi(o),t.flags|=256,xa(e,t,n,r),t.child}var Aa,Oa,La,Ra={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Po(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,o,0,null),e=Rc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Ra,e):Ia(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(s=Rc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Tl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Di(e,o),tc(r,e,o,-1))}return pc(),Fa(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Qo[Ko++]=Go,Qo[Ko++]=Xo,Qo[Ko++]=Yo,Go=e.id,Xo=e.overflow,Yo=t),t=Ia(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,o}return e=(a=e.child).sibling,o=Oc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ia(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mi(r),wi(t,e.child,null,n),(e=Ia(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Va(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function za(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Po(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Va(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Va(t,!0,n,null,i);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ja(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Lo(t.type)&&Ro(),qa(t),null;case 3:return r=t.stateNode,Gi(),Eo(No),Eo(jo),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(ic(si),si=null))),qa(t),null;case 5:Zi(t);var o=Ki(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qa(t),null}if(e=Ki(Ji.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fo]=t,r[po]=s,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Br(Dr[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":oe(r,s),Br("invalid",r)}for(var l in ve(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":J(r),Z(r,s,!0);break;case"textarea":J(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[po]=r,Aa(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Br(Dr[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":Y(e,r),o=K(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=I({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(s in ve(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Br("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":J(e),Z(e,r,!1);break;case"textarea":J(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)La(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Qi.current),Ki(Ji.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return qa(t),null;case 13:if(Eo(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),pi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fo]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==si&&(ic(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ll&&(Ll=3):pc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Gi(),null===e&&Ur(t.stateNode.containerInfo),qa(t),null;case 10:return Ti(t.type._context),qa(t),null;case 19:if(Eo(es),null===(s=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Po(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ge()>zl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return qa(t),null}else 2*Ge()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ge(),t.sibling=null,n=es.current,Po(es,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $a(e,t){switch(ni(t),t.tag){case 1:return Lo(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gi(),Eo(No),Eo(jo),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Eo(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(es),null;case 4:return Gi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ki(Ji.current);var i,s=null;switch(n){case"input":o=K(e,o),r=K(e,r),s=[];break;case"select":o=I({},o,{value:void 0}),r=I({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ka=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Ga=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function Za(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&Za(t,n,i)}o=o.next}while(o!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ka||Xa(n,t);case 6:var r=cl,o=ul;cl=null,dl(e,t,n),ul=o,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(cl,n.stateNode));break;case 4:r=cl,o=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=o;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&Za(n,t,s),o=o.next}while(o!==r)}dl(e,t,n);break;case 1:if(!Ka&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ka=(r=Ka)||null!==n.memoizedState,dl(e,t,n),Ka=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));hl(s,a,o),cl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Sc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){Sc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&G(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":X(o,s);break;case"textarea":ie(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(o,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[po]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Vl=Ge())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ka=(u=Ka)||d,pl(t,e),Ka=u):pl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ga=e,d=e.child;null!==d;){for(h=Ga=d;null!==Ga;){switch(p=(f=Ga).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Xa(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Xa(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Ga=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),ll(e,sl(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;al(e,sl(e),s);break;default:throw Error(i(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ga=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Ga;){var o=Ga,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Qa;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Qa;var c=Ka;if(Qa=s,(Ka=l)&&!c)for(Ga=o;null!==Ga;)l=(s=Ga).child,22===s.tag&&null!==s.memoizedState?wl(o):null!==l?(l.return=s,Ga=l):wl(o);for(;null!==i;)Ga=i,vl(i,t,n),i=i.sibling;Ga=o,Qa=a,Ka=c}bl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ga=i):bl(e)}}function bl(e){for(;null!==Ga;){var t=Ga;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ka||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ka)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Ka||512&t.flags&&rl(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Ga=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ga=n;break}Ga=t.return}}function xl(e){for(;null!==Ga;){var t=Ga;if(t===e){Ga=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ga=n;break}Ga=t.return}}function wl(e){for(;null!==Ga;){var t=Ga;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Sc(t,o,l)}}var i=t.return;try{rl(t)}catch(l){Sc(t,i,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Ga=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ga=a;break}Ga=t.return}}var kl,Sl=Math.ceil,_l=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Pl=0,Tl=null,jl=null,Nl=0,Al=0,Ol=Co(0),Ll=0,Rl=null,Dl=0,Ml=0,Il=0,Fl=null,Bl=null,Vl=0,zl=1/0,Ul=null,Wl=!1,Hl=null,ql=null,Jl=!1,$l=null,Ql=0,Kl=0,Yl=null,Gl=-1,Xl=0;function Zl(){return 0!==(6&Pl)?Ge():-1!==Gl?Gl:Gl=Ge()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Nl?Nl&-Nl:null!==gi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,n,r){if(50<Kl)throw Kl=0,Yl=null,Error(i(185));yt(e,n,r),0!==(2&Pl)&&e===Tl||(e===Tl&&(0===(2&Pl)&&(Ml|=n),4===Ll&&sc(e,Nl)),nc(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(zl=Ge()+500,Vo&&Wo()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Tl?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vo=!0,Uo(e)}(ac.bind(null,e)):Uo(ac.bind(null,e)),so(function(){0===(6&Pl)&&Wo()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Gl=-1,Xl=0,0!==(6&Pl))throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var o=Pl;Pl|=2;var s=fc();for(Tl===e&&Nl===t||(Ul=null,zl=Ge()+500,dc(e,t));;)try{yc();break}catch(l){hc(e,l)}Pi(),_l.current=s,Pl=o,null!==jl?t=0:(Tl=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t)throw n=Rl,dc(e,0),sc(e,r),nc(e,Ge()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=mc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Rl,dc(e,0),sc(e,r),nc(e,Ge()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Bl,Ul);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-Ge())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Bl,Ul),t);break}xc(e,Bl,Ul);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Bl,Ul),r);break}xc(e,Bl,Ul);break;default:throw Error(i(329))}}}return nc(e,Ge()),e.callbackNode===n?rc.bind(null,e):null}function oc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bl,Bl=n,null!==t&&ic(t)),e}function ic(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Il,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(0!==(6&Pl))throw Error(i(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Ge()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rl,dc(e,0),sc(e,t),nc(e,Ge()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Ul),nc(e,Ge()),null}function lc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(zl=Ge()+500,Vo&&Wo())}}function cc(e){null!==$l&&0===$l.tag&&0===(6&Pl)&&wc();var t=Pl;Pl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Pl=t))&&Wo()}}function uc(){Al=Ol.current,Eo(Ol)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ro();break;case 3:Gi(),Eo(No),Eo(jo),rs();break;case 5:Zi(r);break;case 4:Gi();break;case 13:case 19:Eo(es);break;case 10:Ti(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,jl=e=Oc(e.current,null),Nl=Al=t,Ll=0,Rl=null,Il=Ml=Dl=0,Bl=Fl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Oi=null}return e}function hc(e,t){for(;;){var n=jl;try{if(Pi(),os.current=Xs,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Cl.current=null,null===n||null===n.return){Ll=1,Rl=t,jl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),pc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Ll&&(Ll=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,fa(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(x){t=x,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function fc(){var e=_l.current;return _l.current=Xs,null===e?Xs:e}function pc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Ml)||sc(Tl,Nl)}function mc(e,t){var n=Pl;Pl|=2;var r=fc();for(Tl===e&&Nl===t||(Ul=null,dc(e,t));;)try{gc();break}catch(o){hc(e,o)}if(Pi(),Pl=n,_l.current=r,null!==jl)throw Error(i(261));return Tl=null,Nl=0,Ll}function gc(){for(;null!==jl;)vc(jl)}function yc(){for(;null!==jl&&!Ke();)vc(jl)}function vc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):jl=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ja(n,t,Al)))return void(jl=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Ll=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=bt,o=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==$l);if(0!==(6&Pl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Tl&&(jl=Tl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Tc(tt,function(){return wc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var a=bt;bt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(eo=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Ga=t;null!==Ga;)if(e=(t=Ga).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ga=e;else for(;null!==Ga;){t=Ga;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ga=e;break}Ga=t.return}m=el,el=!1}(e,n),ml(n,e),pr(to),Ht=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Pl=l,bt=a,El.transition=s}else e.current=n;if(Jl&&(Jl=!1,$l=e,Ql=o),s=e.pendingLanes,0===s&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&wc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Kl++:(Kl=0,Yl=e):Kl=0,Wo()}(e,t,n,r)}finally{El.transition=o,bt=r}return null}function wc(){if(null!==$l){var e=xt(Ql),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Ql=0,0!==(6&Pl))throw Error(i(331));var o=Pl;for(Pl|=4,Ga=e.current;null!==Ga;){var s=Ga,a=s.child;if(0!==(16&Ga.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ga=u;null!==Ga;){var d=Ga;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ga=h;else for(;null!==Ga;){var f=(d=Ga).sibling,p=d.return;if(ol(d),d===u){Ga=null;break}if(null!==f){f.return=p,Ga=f;break}Ga=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ga=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ga=a;else e:for(;null!==Ga;){if(0!==(2048&(s=Ga).flags))switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Ga=v;break e}Ga=s.return}}var b=e.current;for(Ga=b;null!==Ga;){var x=(a=Ga).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Ga=x;else e:for(a=b;null!==Ga;){if(0!==(2048&(l=Ga).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){Sc(l,l.return,k)}if(l===a){Ga=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ga=w;break e}Ga=l.return}}if(Pl=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(k){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function kc(e,t,n){e=Vi(e,t=fa(0,t=ca(n,t),1),1),t=Zl(),null!==e&&(yt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Vi(t,e=pa(t,e=ca(n,e),1),1),e=Zl(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Ge()-Vl?dc(e,0):Il|=n),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Di(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function Tc(e,t){return $e(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new jc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Ac(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Rc(n.children,o,s,t);case _:a=8,o|=8;break;case C:return(e=Nc(12,n,t,2|o)).elementType=C,e.lanes=s,e;case j:return(e=Nc(13,n,t,o)).elementType=j,e.lanes=s,e;case N:return(e=Nc(19,n,t,o)).elementType=N,e.lanes=s,e;case L:return Dc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case P:a=9;break e;case T:a=11;break e;case A:a=14;break e;case O:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,i,s,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(i),e}function Vc(e){if(!e)return To;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Lo(n))return Mo(e,n,t)}return t}function zc(e,t,n,r,o,i,s,a,l){return(e=Bc(n,r,!0,e,0,i,0,a,l)).context=Vc(null),n=e.current,(i=Bi(r=Zl(),o=ec(n))).callback=void 0!==t&&null!==t?t:null,Vi(n,i,o),e.current.lanes=o,yt(e,o,r),nc(e,r),e}function Uc(e,t,n,r){var o=t.current,i=Zl(),s=ec(o);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(o,t,s))&&(tc(e,o,s,i),zi(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||No.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:ja(t),pi();break;case 5:Xi(t);break;case 1:Lo(t.type)&&Io(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Po(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Po(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Po(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Po(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Po(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,$o,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ua(e,t),e=t.pendingProps;var o=Oo(t,jo.current);Ni(t,n),o=gs(null,t,r,e,o,n);var s=ys();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lo(r)?(s=!0,Io(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ii(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),xa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Pa(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ea(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Pa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(ja(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fi(e,t),Wi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=Na(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=ki(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ca(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ma(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Po(Si,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!No.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Bi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ji(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ji(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ni(t,n),r=r(o=Ai(o)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),ka(e,t,r,o=na(r.type,o),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Ua(e,t),t.tag=1,Lo(r)?(e=!0,Io(t)):e=!1,Ni(t,n),sa(t,r,o),la(t,r,o,n),Ta(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return _a(e,t,n)}throw Error(i(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gc(){}function Xc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}Uc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=zc(t,r,e,0,null,!1,0,"",Gc);return e._reactRootContainer=s,e[mo]=s.current,Ur(8===e.nodeType?e.parentNode:e),cc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Gc);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),cc(function(){Uc(t,l,n,r)}),l}(n,t,e,o,r);return Wc(s)}Qc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uc(e,t,null,null)},Qc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Uc(null,e,null,null)}),t[mo]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,Ge()),0===(6&Pl)&&(zl=Ge()+500,Wo()))}break;case 13:cc(function(){var t=Di(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),qc(e,1)}},kt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)tc(t,e,134217728,Zl());qc(e,134217728)}},St=function(e){if(13===e.tag){var t=ec(e),n=Di(e,t);if(null!==n)tc(n,e,t,Zl());qc(e,t)}},_t=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(i(90));$(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,je=cc;var Zc={usingClientEntryPoint:!1,Events:[xo,wo,ko,Ee,Pe,lc]},eu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ot=nu.inject(tu),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(i(299));var n=!1,r="",o=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},367(e,t,n){var r=n(766);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},766(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(306)},241(e,t,n){var r=n(643),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},226(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,o)&&!_.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+T(l,0):i,w(s)?(o="",null!=e&&(o=e.replace(P,"$&/")+"/"),j(s,t,o,"",function(e){return e})):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(a=e[c],c);l+=j(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=j(a=a.value,t,o,u=i+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],o=0;return j(e,r,"","",function(e){return t.call(n,e,o++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},L={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},643(e,t,n){e.exports=n(226)},507(e,t,n){e.exports=n(241)},498(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,L(k);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),x(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,C=null,E=-1,P=5,T=-1;function j(){return!(t.unstable_now()-T<P)}function N(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(_=!1,C=null)}}else _=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=N,S=function(){O.postMessage(null)}}else S=function(){y(N,0)};function L(e){C=e,_||(_=!0,S())}function R(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(E),E=-1):g=!0,R(w,i-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,L(k))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},261(e,t,n){e.exports=n(498)},957(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>a})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Decoder:()=>ze,Encoder:()=>Ve,PacketType:()=>Be,isPacketValid:()=>qe,protocol:()=>Fe});var o=n(643),i=n(367),s=n(507);let a=null,l=null;try{a=n(Object(function(){var e=new Error("Cannot find module '@sentry/react'");throw e.code="MODULE_NOT_FOUND",e}()));try{const e=n(Object(function(){var e=new Error("Cannot find module '@sentry/tracing'");throw e.code="MODULE_NOT_FOUND",e}()));l=e.BrowserTracing}catch(ku){}}catch(ku){console.log("\u26a0\ufe0f  @sentry/react not installed - error tracking disabled")}const c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SENTRY_DSN,u="production",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0",h={FATAL:"fatal",ERROR:"error",WARNING:"warning",INFO:"info",DEBUG:"debug"},f={UI:"ui",NETWORK:"network",AUTH:"authentication",SUBSCRIPTION:"subscription",CHAT:"chat",MOOD:"mood",STORAGE:"storage",NATIVE:"native",UNKNOWN:"unknown"};let p=!1;function m(e,t){p&&a&&a.setContext(e,t)}function g(e,t){p&&a&&a.setTag(e,t)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"info";p&&a&&a.addBreadcrumb({message:e,category:t,data:n,level:r,timestamp:Date.now()/1e3})}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p&&a?a.captureException(e,{tags:t.tags||{},extra:t.extra||{},level:t.level||h.ERROR}):(console.error("Uncaptured error:",e),null)}const b={uiError(e){return v(e,{tags:{category:f.UI},extra:{componentName:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})},networkError(e){return v(e,{tags:{category:f.NETWORK},extra:{endpoint:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,method:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}})},authError(e){return v(e,{tags:{category:f.AUTH},extra:{action:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})},chatError(e){return v(e,{tags:{category:f.CHAT},extra:{messageLength:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})},moodError(e){return v(e,{tags:{category:f.MOOD},extra:{moodValue:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})},subscriptionError(e){return v(e,{tags:{category:f.SUBSCRIPTION},extra:{productId:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})},storageError(e){return v(e,{tags:{category:f.STORAGE},extra:{operation:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})},nativeError(e){return v(e,{tags:{category:f.NATIVE},extra:{plugin:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})}};class x extends o.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught:",e,t)}render(){return this.state.hasError?this.props.fallback||(0,s.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,s.jsx)("p",{children:"Something went wrong."}),(0,s.jsx)("button",{onClick:()=>this.setState({hasError:!1}),children:"Try Again"})]}):this.props.children}}const w=a&&a.ErrorBoundary?a.ErrorBoundary:x;function k(e){let{error:t,resetError:n}=e;return(0,s.jsxs)("div",{style:{padding:"20px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px"},children:[(0,s.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\ude14"}),(0,s.jsx)("h2",{style:{fontSize:"18px",marginBottom:"8px",color:"#1F2937"},children:"Something went wrong"}),(0,s.jsx)("p",{style:{color:"#6B7280",marginBottom:"16px",fontSize:"14px"},children:"We've been notified and are working on a fix."}),n&&(0,s.jsx)("button",{onClick:n,style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"#7C3AED",color:"white",cursor:"pointer",fontSize:"14px"},children:"Try Again"})]})}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";return p&&a?a.startTransaction({name:e,op:t}):null}function _(){return(0,o.useCallback)(function(e){return v(e,{tags:{category:arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.UNKNOWN},extra:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}})},[])}const C={init:function(){if(!a||!c)return console.log("\u26a0\ufe0f  Sentry DSN not configured - error tracking disabled"),!1;if(p)return!0;const e=[];if(l&&e.push(new l({tracingOrigins:["localhost","mj-superstars.onrender.com",/^\//]})),a.Replay)try{e.push(new a.Replay({maskAllText:!0,blockAllMedia:!0}))}catch(ku){}return a.init({dsn:c,environment:u,release:"mj-superstars-frontend@".concat(d),tracesSampleRate:.2,integrations:e,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,beforeSend(e,t){e.breadcrumbs&&(e.breadcrumbs=e.breadcrumbs.map(e=>{var t,n;return null!==(t=e.data)&&void 0!==t&&t.password&&(e.data.password="[REDACTED]"),null!==(n=e.data)&&void 0!==n&&n.token&&(e.data.token="[REDACTED]"),e}));const n=t.originalException;if(null!==n&&void 0!==n&&n.message){if(n.message.includes("Network request failed"))return null;if(n.message.includes("User cancelled"))return null}return e},ignoreErrors:["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","Non-Error promise rejection","Loading chunk","ChunkLoadError",/^cancelled$/i],denyUrls:[/extensions\//i,/^chrome:\/\//i,/^moz-extension:\/\//i]}),p=!0,console.log("\u2705 Sentry error tracking initialized"),!0},setUser:function(e){p&&a&&e&&a.setUser({id:e.id,email:e.email,username:e.name,subscription:e.subscription_status||"free"})},clearUser:function(){p&&a&&a.setUser(null)},setContext:m,setTag:g,setTags:function(e){p&&a&&a.setTags(e)},setAppState:function(e){m("appState",{currentScreen:e.currentScreen,isOnline:e.isOnline,isPremium:e.isPremium,streak:e.streak})},addBreadcrumb:y,trackNavigation:function(e,t){y("Navigate: ".concat(e," \u2192 ").concat(t),"navigation",{from:e,to:t})},trackUserAction:function(e){y(e,"user",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},trackApiCall:function(e,t,n){y("".concat(e," ").concat(t),"api",{status:n})},trackUIInteraction:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y("".concat(e,": ").concat(t),"ui",n)},captureException:v,captureMessage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.INFO,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p&&a?a.captureMessage(e,{level:t,tags:n.tags||{},extra:n.extra||{}}):(console.log("[".concat(t,"] ").concat(e)),null)},errors:b,SentryErrorBoundary:w,withErrorBoundary:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a&&a.withErrorBoundary?a.withErrorBoundary(e,{fallback:t.fallback||(0,s.jsx)(k,{}),showDialog:t.showDialog||!1,onError:e=>b.uiError(e,t.componentName)}):e},startTransaction:S,measureRender:function(e){const t=S("render.".concat(e),"ui.render");return()=>null===t||void 0===t?void 0:t.finish()},measureAsync:async function(e,t){if(!p||!a)return t();const n=S(e,"custom");try{const e=await t();return null===n||void 0===n||n.setStatus("ok"),e}catch(lc){throw null===n||void 0===n||n.setStatus("internal_error"),v(lc),lc}finally{null===n||void 0===n||n.finish()}},useScreenTracking:function(e){(0,o.useEffect)(()=>{if(p)return g("screen",e),y("View: ".concat(e),"navigation"),()=>g("screen",null)},[e])},useErrorCapture:_,useSafeAsync:function(){const e=_();return(0,o.useCallback)(async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await t()}catch(lc){if(e(lc,n.category,n.extra),n.rethrow)throw lc;return n.fallback}},[e])},showFeedbackDialog:function(){p&&a&&a.showReportDialog()},ErrorLevel:h,ErrorCategory:f};var E=n(957),P=n(676);const T=Object.create(null);T.open="0",T.close="1",T.ping="2",T.pong="3",T.message="4",T.upgrade="5",T.noop="6";const j=Object.create(null);Object.keys(T).forEach(e=>{j[T[e]]=e});const N={type:"error",data:"parser error"},A="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),O="function"===typeof ArrayBuffer,L=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,R=(e,t,n)=>{let{type:r,data:o}=e;return A&&o instanceof Blob?t?n(o):D(o,n):O&&(o instanceof ArrayBuffer||L(o))?t?n(o):D(new Blob([o]),n):n(T[r]+(o||""))},D=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function M(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let I;const F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Cu=0;Cu<64;Cu++)B[F.charCodeAt(Cu)]=Cu;const V="function"===typeof ArrayBuffer,z=(e,t)=>{if("string"!==typeof e)return{type:"message",data:W(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:U(e.substring(1),t)};return j[n]?e.length>1?{type:j[n],data:e.substring(1)}:{type:j[n]}:N},U=(e,t)=>{if(V){const n=(e=>{let t,n,r,o,i,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=B[e.charCodeAt(t)],r=B[e.charCodeAt(t+1)],o=B[e.charCodeAt(t+2)],i=B[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c})(e);return W(n,t)}return{base64:!0,data:e}},W=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,H=String.fromCharCode(30);function q(){return new TransformStream({transform(e,t){!function(e,t){A&&e.data instanceof Blob?e.data.arrayBuffer().then(M).then(t):O&&(e.data instanceof ArrayBuffer||L(e.data))?t(M(e.data)):R(e,!1,e=>{I||(I=new TextEncoder),t(I.encode(e))})}(e,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let J;function $(e){return e.reduce((e,t)=>e+t.length,0)}function Q(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function K(e){if(e)return function(e){for(var t in K.prototype)e[t]=K.prototype[t];return e}(e)}K.prototype.on=K.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},K.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},K.prototype.off=K.prototype.removeListener=K.prototype.removeAllListeners=K.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},K.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},K.prototype.emitReserved=K.prototype.emit,K.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},K.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Y="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),G="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function X(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const Z=G.setTimeout,ee=G.clearTimeout;function te(e,t){t.useNativeTimers?(e.setTimeoutFn=Z.bind(G),e.clearTimeoutFn=ee.bind(G)):(e.setTimeoutFn=G.setTimeout.bind(G),e.clearTimeoutFn=G.clearTimeout.bind(G))}function ne(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function re(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class oe extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ie extends K{constructor(e){super(),this.writable=!1,te(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new oe(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=z(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class se extends ie{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(H),r=[];for(let o=0;o<n.length;o++){const e=z(n[o],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((e,i)=>{R(e,!1,e=>{r[i]=e,++o===n&&t(r.join(H))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=re()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let ae=!1;try{ae="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Su){}const le=ae;function ce(){}class ue extends se{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class de extends K{constructor(e,t,n){super(),this.createRequest=e,te(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=X(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(ku){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(ku){}try{n.setRequestHeader("Accept","*/*")}catch(ku){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(ku){return void this.setTimeoutFn(()=>{this._onError(ku)},0)}"undefined"!==typeof document&&(this._index=de.requestsCount++,de.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ce,e)try{this._xhr.abort()}catch(ku){}"undefined"!==typeof document&&delete de.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(de.requestsCount=0,de.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",he);else if("function"===typeof addEventListener){addEventListener("onpagehide"in G?"pagehide":"unload",he,!1)}function he(){for(let e in de.requests)de.requests.hasOwnProperty(e)&&de.requests[e].abort()}const fe=function(){const e=pe({xdomain:!1});return e&&null!==e.responseType}();function pe(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||le))return new XMLHttpRequest}catch(ku){}if(!t)try{return new(G[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(ku){}}const me="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ge extends ie{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=me?{}:X(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Su){return this.emitReserved("error",Su)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;R(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(ku){}r&&Y(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=re()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const ye=G.WebSocket||G.MozWebSocket;const ve={websocket:class extends ge{createSocket(e,t,n){return me?new ye(e,t,n):t?new ye(e,t):new ye(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends ie{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Su){return this.emitReserved("error",Su)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){J||(J=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(0===r){if($(n)<1)break;const e=Q(n,1);i=128===(128&e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if($(n)<2)break;const e=Q(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if($(n)<8)break;const e=Q(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){a.enqueue(N);break}o=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if($(n)<o)break;const e=Q(n,o);a.enqueue(z(i?e:J.decode(e),t)),r=0}if(0===o||o>e){a.enqueue(N);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=q();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const o=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),o())}).catch(e=>{})};o();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(i).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&Y(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends ue{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=fe&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new de(pe,this.uri(),e)}}},be=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,xe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function we(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=be.exec(e||""),i={},s=14;for(;s--;)i[xe[s]]=o[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,i.query),i}const ke="function"===typeof addEventListener&&"function"===typeof removeEventListener,Se=[];ke&&addEventListener("offline",()=>{Se.forEach(e=>e())},!1);class _e extends K{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=we(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=we(t.host).host);te(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),ke&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Se.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&_e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",_e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=ne(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Y(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(_e.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ke&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Se.indexOf(this._offlineEventListener);-1!==e&&Se.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}_e.protocol=4;class Ce extends _e{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;_e.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;_e.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function o(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function a(){i("socket closed")}function l(e){t&&e.name!==t.name&&o()}const c=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class Ee extends Ce{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>ve[e]).filter(e=>!!e)),super(e,t)}}const Pe="function"===typeof ArrayBuffer,Te=Object.prototype.toString,je="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Te.call(Blob),Ne="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Te.call(File);function Ae(e){return Pe&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||je&&e instanceof Blob||Ne&&e instanceof File}function Oe(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Oe(e[t]))return!0;return!1}if(Ae(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Oe(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Oe(e[n]))return!0;return!1}function Le(e){const t=[],n=e.data,r=e;return r.data=Re(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Re(e,t){if(!e)return e;if(Ae(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Re(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Re(e[r],t));return n}return e}function De(e,t){return e.data=Me(e.data,t),delete e.attachments,e}function Me(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Me(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Me(e[n],t));return e}const Ie=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Fe=5;var Be;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Be||(Be={}));class Ve{constructor(e){this.replacer=e}encode(e){return e.type!==Be.EVENT&&e.type!==Be.ACK||!Oe(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Be.EVENT?Be.BINARY_EVENT:Be.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Be.BINARY_EVENT&&e.type!==Be.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Le(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}class ze extends K{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Be.BINARY_EVENT;n||t.type===Be.BINARY_ACK?(t.type=n?Be.EVENT:Be.ACK,this.reconstructor=new Ue(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Ae(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Be[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Be.BINARY_EVENT||n.type===Be.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!ze.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(ku){return!1}}static isPayloadValid(e,t){switch(e){case Be.CONNECT:return He(t);case Be.DISCONNECT:return void 0===t;case Be.CONNECT_ERROR:return"string"===typeof t||He(t);case Be.EVENT:case Be.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ie.indexOf(t[0]));case Be.ACK:case Be.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ue{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=De(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const We=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function He(e){return"[object Object]"===Object.prototype.toString.call(e)}function qe(e){return"string"===typeof e.nsp&&function(e){return void 0===e||We(e)}(e.id)&&function(e,t){switch(e){case Be.CONNECT:return void 0===t||He(t);case Be.DISCONNECT:return void 0===t;case Be.EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ie.indexOf(t[0]));case Be.ACK:return Array.isArray(t);case Be.CONNECT_ERROR:return"string"===typeof t||He(t);default:return!1}}(e.type,e.data)}function Je(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const $e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Qe extends K{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Je(e,"open",this.onopen.bind(this)),Je(e,"packet",this.onpacket.bind(this)),Je(e,"error",this.onerror.bind(this)),Je(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if($e.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const a={type:Be.EVENT,data:i,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},o),s=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const o=(e,n)=>e?r(e):t(n);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){t._queue[0];if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];n(null,...i)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Be.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Be.EVENT:case Be.BINARY_EVENT:this.onevent(e);break;case Be.ACK:case Be.BINARY_ACK:this.onack(e);break;case Be.DISCONNECT:this.ondisconnect();break;case Be.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.packet({type:Be.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Ke(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ke.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ke.prototype.reset=function(){this.attempts=0},Ke.prototype.setMin=function(e){this.ms=e},Ke.prototype.setMax=function(e){this.max=e},Ke.prototype.setJitter=function(e){this.jitter=e};class Ye extends K{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,te(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ke({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const o=t.parser||r;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ee(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Je(t,"open",function(){n.onopen(),e&&e()}),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=Je(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Je(e,"ping",this.onping.bind(this)),Je(e,"data",this.ondata.bind(this)),Je(e,"error",this.onerror.bind(this)),Je(e,"close",this.onclose.bind(this)),Je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(ku){this.onclose("parse error",ku)}}ondecoded(e){Y(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Qe(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ge={};function Xe(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=we(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=Ge[o]&&i in Ge[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new Ye(r,t):(Ge[o]||(Ge[o]=new Ye(r,t)),a=Ge[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Xe,{Manager:Ye,Socket:Qe,io:Xe,connect:Xe});const Ze={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SOCKET_URL||"https://mj-superstars.onrender.com";const et=new class{constructor(){this.socket=null,this.listeners=new Map,this.reconnectAttempts=0,this.maxReconnectAttempts=5}connect(){var e;if(null!==(e=this.socket)&&void 0!==e&&e.connected)return;const t=P.tC.getAccessToken();t?(this.socket=Xe(Ze,{auth:{token:t},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:this.maxReconnectAttempts,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),this.setupDefaultListeners()):console.warn("Cannot connect socket: No auth token")}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.listeners.clear()}isConnected(){var e;return(null===(e=this.socket)||void 0===e?void 0:e.connected)||!1}setupDefaultListeners(){this.socket.on("connect",()=>{console.log("\ud83d\udd0c Socket connected"),this.reconnectAttempts=0,this.emit("connection_status",{connected:!0})}),this.socket.on("disconnect",e=>{console.log("\ud83d\udd0c Socket disconnected:",e),this.emit("connection_status",{connected:!1,reason:e})}),this.socket.on("connect_error",e=>{console.error("Socket connection error:",e.message),this.reconnectAttempts++,this.reconnectAttempts>=this.maxReconnectAttempts&&this.emit("connection_failed",{error:e.message})}),this.socket.on("error",e=>{console.error("Socket error:",e),this.emit("socket_error",e)}),this.socket.on("connected",e=>this.emit("connected",e)),this.socket.on("message_saved",e=>this.emit("message_saved",e)),this.socket.on("mj_typing",e=>this.emit("mj_typing",e)),this.socket.on("mj_response",e=>this.emit("mj_response",e)),this.socket.on("mood_logged",e=>this.emit("mood_logged",e)),this.socket.on("task_completed",e=>this.emit("task_completed",e)),this.socket.on("new_message",e=>this.emit("new_message",e)),this.socket.on("joined_conversation",e=>this.emit("joined_conversation",e))}on(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{var n;null===(n=this.listeners.get(e))||void 0===n||n.delete(t)}}off(e,t){var n;t?null===(n=this.listeners.get(e))||void 0===n||n.delete(t):this.listeners.delete(e)}emit(e,t){var n;null===(n=this.listeners.get(e))||void 0===n||n.forEach(n=>{try{n(t)}catch(lc){console.error("Error in listener for ".concat(e,":"),lc)}})}sendMessage(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===(n=this.socket)||void 0===n||!n.connected)throw new Error("Socket not connected");this.socket.emit("send_message",{conversation_id:e,content:t,is_voice:r})}joinConversation(e){var t;null===(t=this.socket)||void 0===t||t.emit("join_conversation",{conversation_id:e})}leaveConversation(e){var t;null===(t=this.socket)||void 0===t||t.emit("leave_conversation",{conversation_id:e})}startTyping(e){var t;null===(t=this.socket)||void 0===t||t.emit("typing_start",{conversation_id:e})}stopTyping(e){var t;null===(t=this.socket)||void 0===t||t.emit("typing_stop",{conversation_id:e})}logQuickMood(e,t){var n;null===(n=this.socket)||void 0===n||n.emit("quick_mood",{mood_score:e,note:t})}completeTask(e){var t;null===(t=this.socket)||void 0===t||t.emit("complete_task",{task_id:e})}};const tt=(0,o.createContext)(null),nt="mj_user_profile";function rt(e){let{children:t}=e;const[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)(null),[l,c]=(0,o.useState)(!0),[u,d]=(0,o.useState)(null),[h,f]=(0,o.useState)(navigator.onLine);(0,o.useEffect)(()=>{const e=()=>f(!0),t=()=>f(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,o.useEffect)(()=>{(async()=>{try{if(P.tC.isAuthenticated())if(h)try{const e=await P.QS.getProfile();r(e.user),a(e.user),et.connect()}catch(Su){if(401===Su.status){P.tC.clearTokens();const e=localStorage.getItem(nt);e&&a(JSON.parse(e))}}else{const e=localStorage.getItem(nt);e&&a(JSON.parse(e))}else{const e=localStorage.getItem(nt);e&&a(JSON.parse(e))}}catch(Su){console.error("Auth initialization error:",Su),d(Su.message)}finally{c(!1)}})();const e=()=>{r(null),a(null),et.disconnect()};return window.addEventListener("auth:logout",e),()=>window.removeEventListener("auth:logout",e)},[h]);const p=(0,o.useCallback)(async(e,t,n)=>{c(!0),d(null);try{const o=await P.AuthAPI.register(e,t,n);return r(o.user),a(o.user),localStorage.setItem(nt,JSON.stringify(o.user)),et.connect(),o}catch(Su){throw d(Su.message),Su}finally{c(!1)}},[]),m=(0,o.useCallback)(async(e,t)=>{c(!0),d(null);try{const n=await P.AuthAPI.login(e,t);return r(n.user),a(n.user),localStorage.setItem(nt,JSON.stringify(n.user)),et.connect(),n}catch(Su){throw d(Su.message),Su}finally{c(!1)}},[]),g=(0,o.useCallback)(async(e,t)=>{c(!0),d(null);try{let n;switch(e){case"apple":n=await P.Q9.signInWithApple(t.id_token,t.authorization_code,t.user);break;case"google":n=await P.Q9.signInWithGoogle(t.id_token,t.access_token);break;case"x":n=await P.Q9.signInWithX(t.oauth_token,t.oauth_token_secret,t.user_id,t.screen_name,t.name,t.profile_image_url);break;case"instagram":n=await P.Q9.signInWithInstagram(t.access_token,t.user_id,t.username,t.name,t.profile_picture_url);break;default:throw new Error("Unknown provider: ".concat(e))}return r(n.user),a(n.user),localStorage.setItem(nt,JSON.stringify(n.user)),et.connect(),n}catch(Su){throw d(Su.message),Su}finally{c(!1)}},[]),y=(0,o.useCallback)(async()=>{try{h&&P.tC.isAuthenticated()&&await P.AuthAPI.logout()}catch(Su){console.error("Logout error:",Su)}finally{P.tC.clearTokens(),r(null),a(null),et.disconnect()}},[h]),v=(0,o.useCallback)(async e=>{d(null);try{if(h&&P.tC.isAuthenticated()){const t=await P.QS.updateProfile(e),n=(0,E.A)((0,E.A)({},i),t.user);return r(t.user),a(n),localStorage.setItem(nt,JSON.stringify(n)),t}{const t=(0,E.A)((0,E.A)({},i),e);return a(t),localStorage.setItem(nt,JSON.stringify(t)),S("profile",e),{user:t}}}catch(Su){throw d(Su.message),Su}},[h,i]),b=(0,o.useCallback)(async e=>{try{if(h&&P.tC.isAuthenticated())return await P.QS.updateCommunicationStyle(e);S("communicationStyle",e)}catch(Su){throw d(Su.message),Su}},[h]),x=(0,o.useCallback)(async e=>{try{const t={name:e.name,age:e.age,pronouns:e.pronouns,location:e.location,struggles:e.struggles,communicationPref:e.communicationPref,interests:e.interests,onboardingComplete:!0};return a(t),localStorage.setItem(nt,JSON.stringify(t)),h&&P.tC.isAuthenticated()?await P.QS.completeOnboarding(e):(S("onboarding",e),{success:!0})}catch(Su){throw d(Su.message),Su}},[h]),w=(0,o.useCallback)(e=>{a(e),localStorage.setItem(nt,JSON.stringify(e))},[]),k=(0,o.useCallback)(async()=>{await y(),Object.keys(localStorage).forEach(e=>{e.startsWith("mj_")&&localStorage.removeItem(e)}),a(null),r(null)},[y]),S=(e,t)=>{const n=JSON.parse(localStorage.getItem("mj_offline_queue")||"[]");n.push({type:e,data:t,timestamp:(new Date).toISOString()}),localStorage.setItem("mj_offline_queue",JSON.stringify(n))};(0,o.useEffect)(()=>{h&&(async()=>{if(!h||!P.tC.isAuthenticated())return;const e=JSON.parse(localStorage.getItem("mj_offline_queue")||"[]");if(0===e.length)return;const t=[];for(const n of e)try{switch(n.type){case"profile":await P.QS.updateProfile(n.data);break;case"communicationStyle":await P.QS.updateCommunicationStyle(n.data);break;case"onboarding":await P.QS.completeOnboarding(n.data);break;default:console.warn("Unknown offline update type:",n.type)}}catch(Su){console.error("Failed to sync offline update:",Su),t.push(n)}localStorage.setItem("mj_offline_queue",JSON.stringify(t))})()},[h]);const _={user:n,profile:i,loading:l,error:u,isOnline:h,isAuthenticated:!!n||!!i,register:p,login:m,socialLogin:g,logout:y,updateProfile:v,updateCommunicationStyle:b,completeOnboarding:x,setProfile:w,reset:k};return(0,s.jsx)(tt.Provider,{value:_,children:t})}function ot(){const e=(0,o.useContext)(tt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const it=(0,o.createContext)(null),st=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return null}},at=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(ku){console.error("Storage error:",ku)}};function lt(e){let{children:t}=e;const[r,i]=(0,o.useState)(navigator.onLine),[a,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,h]=(0,o.useState)([]),[f,p]=(0,o.useState)([]),[m,g]=(0,o.useState)([]),[y,v]=(0,o.useState)(null),[b,x]=(0,o.useState)([]),[w,k]=(0,o.useState)(null),[S,_]=(0,o.useState)([]),[C,T]=(0,o.useState)([]);(0,o.useEffect)(()=>{const e=()=>i(!0),t=()=>i(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,o.useEffect)(()=>{h(st("mj_mood_log")||[]),p(st("mj_daily_tasks")||[]),x(st("mj_coping_tools")||[]),g(st("mj_conversations")||[])},[]),(0,o.useEffect)(()=>{r&&P.tC.isAuthenticated()&&U()},[r]);const j=(0,o.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,E.A)((0,E.A)({id:Date.now().toString(),mood_score:e},t),{},{timestamp:(new Date).toISOString(),synced:!1}),o=[n,...d];if(h(o),at("mj_mood_log",o),r&&P.tC.isAuthenticated())try{const r=await P._h.log(e,t),i=o.map(e=>e.id===n.id?(0,E.A)((0,E.A)({},r.mood),{},{synced:!0}):e);return h(i),at("mj_mood_log",i),r}catch(Su){console.error("Failed to sync mood:",Su),z("mood","create",n)}else z("mood","create",n);return{mood:n}},[d,r]),N=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"7d";if(r&&P.tC.isAuthenticated())try{return await P._h.getTrends(e)}catch(Su){console.error("Failed to get mood trends:",Su)}const t=new Date,n=parseInt(e)||7,o=new Date(t.getTime()-24*n*60*60*1e3),i=d.filter(e=>new Date(e.timestamp)>o);return{average:i.reduce((e,t)=>e+t.mood_score,0)/i.length||0,entries:i.length,trend:i.length>1?i[0].mood_score-i[i.length-1].mood_score:0}},[d,r]),A=(0,o.useCallback)(async e=>{const t=(0,E.A)((0,E.A)({id:Date.now().toString()},e),{},{status:"pending",created_at:(new Date).toISOString(),synced:!1}),n=[...f,t];if(p(n),at("mj_daily_tasks",n),r&&P.tC.isAuthenticated())try{const r=await P.ee.create(e),o=n.map(e=>e.id===t.id?(0,E.A)((0,E.A)({},r.task),{},{synced:!0}):e);return p(o),at("mj_daily_tasks",o),r}catch(Su){console.error("Failed to sync task:",Su),z("task","create",t)}else z("task","create",t);return{task:t}},[f,r]),O=(0,o.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=f.map(t=>t.id===e?(0,E.A)((0,E.A)({},t),{},{status:"completed",completed_at:(new Date).toISOString()}):t);if(p(n),at("mj_daily_tasks",n),r&&P.tC.isAuthenticated())try{const n=await P.ee.complete(e,t);return et.completeTask(e),n}catch(Su){console.error("Failed to sync task completion:",Su),z("task","complete",{taskId:e,data:t})}else z("task","complete",{taskId:e,data:t});return{success:!0}},[f,r]),L=(0,o.useCallback)(async()=>{if(r&&P.tC.isAuthenticated())try{const e=await P.ee.getToday(),t=H(f,e.tasks);return p(t),at("mj_daily_tasks",t),e}catch(Su){console.error("Failed to get today tasks:",Su)}const e=(new Date).toDateString();return{tasks:f.filter(t=>new Date(t.created_at).toDateString()===e||t.due_date&&new Date(t.due_date).toDateString()===e)}},[f,r]),R=(0,o.useCallback)(async e=>{const t={id:Date.now().toString(),initial_mood:e,messages:[],started_at:(new Date).toISOString(),synced:!1},n=[t,...m];if(g(n),v(t),at("mj_conversations",n),r&&P.tC.isAuthenticated())try{const r=await P.EC.create(e);et.joinConversation(r.conversation.id);const o=(0,E.A)((0,E.A)({},r.conversation),{},{synced:!0}),i=n.map(e=>e.id===t.id?o:e);return g(i),v(o),at("mj_conversations",i),r}catch(Su){console.error("Failed to sync conversation:",Su)}return{conversation:t}},[m,r]),D=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o={id:Date.now().toString(),conversation_id:e,content:t,role:"user",is_voice:n,created_at:(new Date).toISOString()};if(y&&y.id===e){const e=(0,E.A)((0,E.A)({},y),{},{messages:[...y.messages||[],o]});v(e)}if(r&&P.tC.isAuthenticated())try{return et.sendMessage(e,t,n),{message:o}}catch(Su){return console.error("Failed to send message:",Su),await P.EC.sendMessage(e,t,n)}return{message:o}},[y,r]),M=(0,o.useCallback)(async e=>{if(r&&P.tC.isAuthenticated())try{const t=await P.EC.get(e);return v(t.conversation),et.joinConversation(e),t}catch(Su){console.error("Failed to load conversation:",Su)}const t=m.find(t=>t.id===e);return t?(v(t),{conversation:t}):null},[m,r]);!function(e,t){const{useEffect:r}=n(643);r(()=>et.on(e,t),[e,t])}("mj_response",e=>{if(y&&e.conversation_id===y.id){const t=(0,E.A)((0,E.A)({},y),{},{messages:[...y.messages||[],e.message]});v(t)}});const I=(0,o.useCallback)(async e=>{if(r&&P.tC.isAuthenticated())try{const t=await P.jZ.getTools(e);return x(t.tools),at("mj_coping_tools",t.tools),t}catch(Su){console.error("Failed to get coping tools:",Su)}return{tools:b}},[b,r]),F=(0,o.useCallback)(async(e,t)=>{if(r&&P.tC.isAuthenticated())try{return await P.jZ.logToolUse(e,t)}catch(Su){console.error("Failed to log tool use:",Su),z("coping","logUse",{toolId:e,data:t})}else z("coping","logUse",{toolId:e,data:t})},[r]),B=(0,o.useCallback)(async()=>{if(r&&P.tC.isAuthenticated())try{const e=await P.Iw.getDashboard();return k(e.streaks),_(e.achievements),e}catch(Su){console.error("Failed to get progress:",Su)}return{streaks:st("mj_streaks")||{},achievements:st("mj_achievements")||[]}},[r]),V=(0,o.useCallback)(async()=>{if(r&&P.tC.isAuthenticated())try{return await P.Qe.getDailyAffirmation()}catch(Su){console.error("Failed to get affirmation:",Su)}const e=st("mj_daily_affirmation");return e&&new Date(e.date).toDateString()===(new Date).toDateString()?e:{affirmation:"You are worthy of love and kindness, especially from yourself.",date:(new Date).toISOString()}},[r]),z=(e,t,n)=>{const r=st("mj_sync_queue")||[];r.push({resource:e,action:t,data:n,timestamp:(new Date).toISOString()}),at("mj_sync_queue",r)},U=(0,o.useCallback)(async()=>{if(r&&P.tC.isAuthenticated()&&!a){l(!0);try{const e=st("mj_sync_queue")||[],t=[];for(const n of e)try{await W(n)}catch(Su){console.error("Failed to process queue item:",Su),t.push(n)}at("mj_sync_queue",t),await Promise.all([N("7d"),L(),I(),B()]),u((new Date).toISOString())}catch(Su){console.error("Sync failed:",Su)}finally{l(!1)}}},[r,a]),W=async e=>{switch(e.resource){case"mood":"create"===e.action&&await P._h.log(e.data.mood_score,e.data);break;case"task":"create"===e.action?await P.ee.create(e.data):"complete"===e.action&&await P.ee.complete(e.data.taskId,e.data.data);break;case"coping":"logUse"===e.action&&await P.jZ.logToolUse(e.data.toolId,e.data.data);break;default:console.warn("Unknown sync item:",e.resource)}},H=(e,t)=>{const n=new Set(t.map(e=>e.id)),r=e.filter(e=>!e.synced&&!n.has(e.id));return[...t.map(e=>(0,E.A)((0,E.A)({},e),{},{synced:!0})),...r]},q={isOnline:r,syncing:a,lastSyncTime:c,moods:d,logMood:j,getMoodTrends:N,tasks:f,createTask:A,completeTask:O,getTodayTasks:L,conversations:m,activeConversation:y,startConversation:R,sendMessage:D,loadConversation:M,setActiveConversation:v,copingTools:b,getCopingTools:I,logToolUse:F,streaks:w,achievements:S,getProgress:B,getDailyAffirmation:V,syncAllData:U};return(0,s.jsx)(it.Provider,{value:q,children:t})}function ct(){const{login:e,loading:t,error:n}=ot(),[r,i]=(0,o.useState)(""),[s,a]=(0,o.useState)(""),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!1),h=(0,o.useCallback)(async t=>{null===t||void 0===t||t.preventDefault(),c(null),d(!0);try{return await e(r,s),!0}catch(Su){return c(Su.message||"Login failed"),!1}finally{d(!1)}},[r,s,e]),f=(0,o.useCallback)(()=>{i(""),a(""),c(null)},[]);return{email:r,setEmail:i,password:s,setPassword:a,error:l||n,loading:u||t,handleSubmit:h,reset:f}}function ut(){const{register:e,loading:t,error:n}=ot(),[r,i]=(0,o.useState)(""),[s,a]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[h,f]=(0,o.useState)(null),[p,m]=(0,o.useState)(!1),g=(0,o.useCallback)(()=>r&&r.includes("@")?!s||s.length<8?(f("Password must be at least 8 characters"),!1):s===l||(f("Passwords do not match"),!1):(f("Please enter a valid email"),!1),[r,s,l]),y=(0,o.useCallback)(async t=>{if(null===t||void 0===t||t.preventDefault(),f(null),!g())return!1;m(!0);try{return await e(r,s,u||r.split("@")[0]),!0}catch(Su){return f(Su.message||"Registration failed"),!1}finally{m(!1)}},[r,s,u,e,g]),v=(0,o.useCallback)(()=>{i(""),a(""),c(""),d(""),f(null)},[]);return{email:r,setEmail:i,password:s,setPassword:a,confirmPassword:l,setConfirmPassword:c,displayName:u,setDisplayName:d,error:h||n,loading:p||t,handleSubmit:y,reset:v,validate:g}}function dt(){const{socialLogin:e,loading:t,error:n}=ot(),[r,i]=(0,o.useState)(null),[s,a]=(0,o.useState)(!1),l=(0,o.useCallback)(async(t,n)=>{i(null),a(!0);try{return await e(t,n)}catch(Su){return i(Su.message||"".concat(t," sign-in failed")),null}finally{a(!1)}},[e]);return{signInWithApple:(0,o.useCallback)(async e=>l("apple",{id_token:e.identityToken,authorization_code:e.authorizationCode,user:e.fullName?{email:e.email,name:{firstName:e.fullName.givenName,lastName:e.fullName.familyName}}:null}),[l]),signInWithGoogle:(0,o.useCallback)(async e=>l("google",{id_token:e.id_token||e.credential,access_token:e.access_token}),[l]),signInWithX:(0,o.useCallback)(async e=>l("x",{oauth_token:e.oauth_token,oauth_token_secret:e.oauth_token_secret,user_id:e.user_id,screen_name:e.screen_name,name:e.name,profile_image_url:e.profile_image_url}),[l]),signInWithInstagram:(0,o.useCallback)(async e=>l("instagram",{access_token:e.access_token,user_id:e.user_id,username:e.username,name:e.name,profile_picture_url:e.profile_picture_url}),[l]),error:r||n,loading:s||t}}function ht(e){let{label:t,type:n="text",value:r,onChange:o,placeholder:i,error:a}=e;return(0,s.jsxs)("div",{className:"mb-4",children:[t&&(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:t}),(0,s.jsx)("input",{type:n,value:r,onChange:e=>o(e.target.value),placeholder:i,className:"w-full px-4 py-3 bg-slate-800 border rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 transition-all ".concat(a?"border-red-500 focus:ring-red-500":"border-slate-700 focus:ring-sky-500 focus:border-sky-500")}),a&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-400",children:a})]})}function ft(e){let{children:t,onClick:n,loading:r,disabled:o,variant:i="primary",className:a=""}=e;return(0,s.jsxs)("button",{onClick:n,disabled:r||o,className:"".concat("w-full py-3 px-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2"," ").concat({primary:"bg-sky-600 hover:bg-sky-500 text-white disabled:bg-slate-700 disabled:text-slate-400",secondary:"bg-slate-700 hover:bg-slate-600 text-white disabled:bg-slate-800 disabled:text-slate-500",ghost:"bg-transparent hover:bg-slate-800 text-slate-300"}[i]," ").concat(a),children:[r&&(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})}function pt(e){let{provider:t,icon:n,label:r,onClick:o,loading:i,disabled:a}=e;return(0,s.jsxs)("button",{onClick:o,disabled:i||a,className:"w-full py-3 px-4 rounded-xl font-medium transition-all flex items-center justify-center gap-3 bg-slate-700/80 hover:bg-slate-600 text-white border border-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,s.jsx)("span",{className:"text-xl w-6 text-center",children:n}),(0,s.jsx)("span",{children:r})]})}function mt(e){let{onSuccess:t}=e;const{signInWithApple:n,signInWithGoogle:r,error:i,loading:a}=dt(),[l,c]=(0,o.useState)(null),u=(0,o.useCallback)(async()=>{c("apple");try{var e,r;if(null!==(e=window.Capacitor)&&void 0!==e&&null!==(r=e.isNativePlatform)&&void 0!==r&&r.call(e)&&window.SignInWithApple){const e=await window.SignInWithApple.authorize({clientId:"com.mjsuperstars.app",redirectURI:window.location.origin,scopes:"email name"});await n(e.response)&&t&&t()}else if(window.AppleID){var o,i;const e=await window.AppleID.auth.signIn();await n({identityToken:e.authorization.id_token,authorizationCode:e.authorization.code,email:null===(o=e.user)||void 0===o?void 0:o.email,fullName:null===(i=e.user)||void 0===i?void 0:i.name})&&t&&t()}else alert("Apple Sign In is available on iOS devices. Please use the app to sign in with Apple.")}catch(Su){"ERR_CANCELED"!==Su.code&&console.error("Apple sign-in error:",Su)}finally{c(null)}},[n,t]),d=(0,o.useCallback)(async()=>{c("google");try{var e,n,o,i;if(null!==(e=window.Capacitor)&&void 0!==e&&null!==(n=e.isNativePlatform)&&void 0!==n&&n.call(e)&&window.GoogleAuth){const e=await window.GoogleAuth.signIn();await r({id_token:e.authentication.idToken,access_token:e.authentication.accessToken})&&t&&t()}else null!==(o=window.google)&&void 0!==o&&null!==(i=o.accounts)&&void 0!==i&&i.id?window.google.accounts.id.prompt(async e=>{(e.isNotDisplayed()||e.isSkippedMoment())&&alert("Google Sign In popup was blocked. Please allow popups or try another sign-in method.")}):alert("Google Sign In is loading. Please try again in a moment.")}catch(Su){console.error("Google sign-in error:",Su)}finally{c(null)}},[r,t]);return(0,s.jsxs)("div",{className:"space-y-3",children:[i&&(0,s.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl text-sm",children:i}),(0,s.jsx)(pt,{provider:"apple",icon:(0,s.jsx)("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 fill-current",children:(0,s.jsx)("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),label:"Continue with Apple",onClick:u,loading:"apple"===l,disabled:a&&"apple"!==l}),(0,s.jsx)(pt,{provider:"google",icon:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),label:"Continue with Google",onClick:d,loading:"google"===l,disabled:a&&"google"!==l})]})}function gt(e){let{text:t}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-3 my-5",children:[(0,s.jsx)("div",{className:"flex-1 h-px bg-slate-700"}),(0,s.jsx)("span",{className:"text-slate-500 text-sm",children:t}),(0,s.jsx)("div",{className:"flex-1 h-px bg-slate-700"})]})}function yt(e){let{onSuccess:t,onSwitchToRegister:n,onForgotPassword:r}=e;const{email:o,setEmail:i,password:a,setPassword:l,error:c,loading:u,handleSubmit:d}=ct();return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome back"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Sign in to continue your journey"})]}),(0,s.jsx)(mt,{onSuccess:t}),(0,s.jsx)(gt,{text:"or sign in with email"}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();await d(e)&&t&&t()},className:"space-y-4",children:[c&&(0,s.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl text-sm",children:c}),(0,s.jsx)(ht,{label:"Email",type:"email",value:o,onChange:i,placeholder:"your@email.com"}),(0,s.jsx)(ht,{label:"Password",type:"password",value:a,onChange:l,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,s.jsx)(ft,{type:"submit",loading:u,children:"Sign In"}),(0,s.jsx)("div",{className:"text-center pt-2",children:(0,s.jsx)("button",{type:"button",onClick:r,className:"text-slate-500 hover:text-slate-300 text-sm",children:"Forgot your password?"})}),(0,s.jsxs)("div",{className:"text-center pt-4",children:[(0,s.jsx)("span",{className:"text-slate-400",children:"Don't have an account? "}),(0,s.jsx)("button",{type:"button",onClick:n,className:"text-sky-400 hover:text-sky-300 font-medium",children:"Sign up"})]})]})]})}function vt(e){let{onSuccess:t,onSwitchToLogin:n}=e;const{email:r,setEmail:o,password:i,setPassword:a,confirmPassword:l,setConfirmPassword:c,displayName:u,setDisplayName:d,error:h,loading:f,handleSubmit:p}=ut();return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create account"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Start your wellness journey with MJ"})]}),(0,s.jsx)(mt,{onSuccess:t}),(0,s.jsx)(gt,{text:"or sign up with email"}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();await p(e)&&t&&t()},className:"space-y-4",children:[h&&(0,s.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl text-sm",children:h}),(0,s.jsx)(ht,{label:"Name (optional)",value:u,onChange:d,placeholder:"What should MJ call you?"}),(0,s.jsx)(ht,{label:"Email",type:"email",value:r,onChange:o,placeholder:"your@email.com"}),(0,s.jsx)(ht,{label:"Password",type:"password",value:i,onChange:a,placeholder:"At least 8 characters"}),(0,s.jsx)(ht,{label:"Confirm Password",type:"password",value:l,onChange:c,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,s.jsx)(ft,{type:"submit",loading:f,children:"Create Account"}),(0,s.jsxs)("div",{className:"text-center pt-4",children:[(0,s.jsx)("span",{className:"text-slate-400",children:"Already have an account? "}),(0,s.jsx)("button",{type:"button",onClick:n,className:"text-sky-400 hover:text-sky-300 font-medium",children:"Sign in"})]})]})]})}function bt(e){let{onBack:t}=e;const[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)("");return l?(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-900/40 rounded-full mx-auto flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl",children:"\ud83d\udce7"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Check Your Email"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:"If an account exists with that email, we've sent password reset instructions."}),(0,s.jsx)("button",{onClick:t,className:"text-sky-400 hover:text-sky-300 text-sm font-medium",children:"Back to Sign In"})]}):(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(!0),d("");try{await P.AuthAPI.forgotPassword(n),c(!0)}catch(Su){d(Su.message||"Something went wrong")}finally{a(!1)}},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Enter your email to receive reset instructions"})]}),u&&(0,s.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl text-sm",children:u}),(0,s.jsx)(ht,{label:"Email",type:"email",value:n,onChange:r,placeholder:"your@email.com"}),(0,s.jsx)(ft,{type:"submit",loading:i,children:"Send Reset Link"}),(0,s.jsx)("div",{className:"text-center pt-2",children:(0,s.jsx)("button",{type:"button",onClick:t,className:"text-slate-400 hover:text-slate-300 text-sm",children:"Back to Sign In"})})]})}function xt(e){let{token:t,onSuccess:n,onBack:r}=e;const[i,a]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),[p,m]=(0,o.useState)("");return h?(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-900/40 rounded-full mx-auto flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl",children:"\u2705"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Password Reset!"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:"Your password has been updated. You can now sign in with your new password."}),(0,s.jsx)("button",{onClick:r,className:"text-sky-400 hover:text-sky-300 text-sm font-medium",children:"Go to Sign In"})]}):(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m(""),i.length<8)m("Password must be at least 8 characters");else if(i===l){d(!0);try{await P.AuthAPI.resetPassword(t,i),f(!0)}catch(Su){m(Su.message||"Failed to reset password. The link may have expired.")}finally{d(!1)}}else m("Passwords do not match")},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Set New Password"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Choose a strong password for your account"})]}),p&&(0,s.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl text-sm",children:p}),(0,s.jsx)(ht,{label:"New Password",type:"password",value:i,onChange:a,placeholder:"At least 8 characters"}),(0,s.jsx)(ht,{label:"Confirm New Password",type:"password",value:l,onChange:c,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,s.jsx)(ft,{type:"submit",loading:u,children:"Reset Password"}),(0,s.jsx)("div",{className:"text-center pt-2",children:(0,s.jsx)("button",{type:"button",onClick:r,className:"text-slate-400 hover:text-slate-300 text-sm",children:"Back to Sign In"})})]})}function wt(e){let{onSuccess:t,onSkip:n,showSkip:r=!0}=e;const[i,a]=(0,o.useState)("login"),[l,c]=(0,o.useState)(null);o.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("token");e&&window.location.pathname.includes("reset-password")&&(c(e),a("reset"),window.history.replaceState({},"",window.location.pathname))},[]);return(0,s.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-violet-500 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl",children:"\ud83c\udf1f"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"MJ's Superstars"}),(0,s.jsx)("p",{className:"text-slate-400 mt-2",children:"Your daily mental wellness companion"})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-xl",children:["login"===i&&(0,s.jsx)(yt,{onSuccess:t,onSwitchToRegister:()=>a("register"),onForgotPassword:()=>a("forgot")}),"register"===i&&(0,s.jsx)(vt,{onSuccess:t,onSwitchToLogin:()=>a("login")}),"forgot"===i&&(0,s.jsx)(bt,{onBack:()=>a("login")}),"reset"===i&&(0,s.jsx)(xt,{token:l,onSuccess:()=>a("login"),onBack:()=>{a("login"),c(null),window.location.search&&window.history.replaceState({},"","/")}})]}),r&&"reset"!==i&&(0,s.jsxs)("div",{className:"text-center mt-6",children:[(0,s.jsx)("button",{onClick:n,className:"text-slate-500 hover:text-slate-400 text-sm",children:"Continue without account \u2192"}),(0,s.jsx)("p",{className:"text-slate-600 text-xs mt-2",children:"Your data will be stored locally"})]})]})})}const kt=(0,o.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),St=(0,o.createContext)({}),_t=(0,o.createContext)(null),Ct="undefined"!==typeof document,Et=Ct?o.useLayoutEffect:o.useEffect,Pt=(0,o.createContext)({strict:!1}),Tt=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jt="data-"+Tt("framerAppearId");function Nt(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function At(e){return"string"===typeof e||Array.isArray(e)}function Ot(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Lt=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rt=["initial",...Lt];function Dt(e){return Ot(e.animate)||Rt.some(t=>At(e[t]))}function Mt(e){return Boolean(Dt(e)||e.variants)}function It(e){const{initial:t,animate:n}=function(e,t){if(Dt(e)){const{initial:t,animate:n}=e;return{initial:!1===t||At(t)?t:void 0,animate:At(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,o.useContext)(St));return(0,o.useMemo)(()=>({initial:t,animate:n}),[Ft(t),Ft(n)])}function Ft(e){return Array.isArray(e)?e.join(" "):e}const Bt={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vt={};for(const Cu in Bt)Vt[Cu]={isEnabled:e=>Bt[Cu].some(t=>!!e[t])};const zt=(0,o.createContext)({}),Ut=(0,o.createContext)({}),Wt=Symbol.for("motionComponentSymbol");function Ht(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:s}=e;t&&function(e){for(const t in e)Vt[t]=(0,E.A)((0,E.A)({},Vt[t]),e[t])}(t);const a=(0,o.forwardRef)(function(e,a){let l;const c=(0,E.A)((0,E.A)((0,E.A)({},(0,o.useContext)(kt)),e),{},{layoutId:qt(e)}),{isStatic:u}=c,d=It(e),h=i(e,u);if(!u&&Ct){d.visualElement=function(e,t,n,r){const{visualElement:i}=(0,o.useContext)(St),s=(0,o.useContext)(Pt),a=(0,o.useContext)(_t),l=(0,o.useContext)(kt).reducedMotion,c=(0,o.useRef)();r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current;(0,o.useInsertionEffect)(()=>{u&&u.update(n,a)});const d=(0,o.useRef)(Boolean(n[jt]&&!window.HandoffComplete));return Et(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,o.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(s,h,c,n);const e=(0,o.useContext)(Ut),r=(0,o.useContext)(Pt).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,r,t,e))}return o.createElement(St.Provider,{value:d},l&&d.visualElement?o.createElement(l,(0,E.A)({visualElement:d.visualElement},c)):null,r(s,e,function(e,t,n){return(0,o.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Nt(n)&&(n.current=r))},[t])}(h,d.visualElement,a),h,u,d.visualElement))});return a[Wt]=s,a}function qt(e){let{layoutId:t}=e;const n=(0,o.useContext)(zt).id;return n&&void 0!==t?n+"-"+t:t}function Jt(e){function t(t){return Ht(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const $t=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qt(e){return"string"===typeof e&&!e.includes("-")&&!!($t.indexOf(e)>-1||/[A-Z]/.test(e))}const Kt={};const Yt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gt=new Set(Yt);function Xt(e,t){let{layout:n,layoutId:r}=t;return Gt.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Kt[e]||"opacity"===e)}const Zt=e=>Boolean(e&&e.getVelocity),en={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tn=Yt.length;const nn=e=>t=>"string"===typeof t&&t.startsWith(e),rn=nn("--"),on=nn("var(--"),sn=(e,t)=>t&&"number"===typeof e?t.transform(e):e,an=(e,t,n)=>Math.min(Math.max(n,e),t),ln={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},cn=(0,E.A)((0,E.A)({},ln),{},{transform:e=>an(0,1,e)}),un=(0,E.A)((0,E.A)({},ln),{},{default:1}),dn=e=>Math.round(1e5*e)/1e5,hn=/(-)?([\d]*\.?[\d])+/g,fn=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pn=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function mn(e){return"string"===typeof e}const gn=e=>({test:t=>mn(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),yn=gn("deg"),vn=gn("%"),bn=gn("px"),xn=gn("vh"),wn=gn("vw"),kn=(0,E.A)((0,E.A)({},vn),{},{parse:e=>vn.parse(e)/100,transform:e=>vn.transform(100*e)}),Sn=(0,E.A)((0,E.A)({},ln),{},{transform:Math.round}),_n={borderWidth:bn,borderTopWidth:bn,borderRightWidth:bn,borderBottomWidth:bn,borderLeftWidth:bn,borderRadius:bn,radius:bn,borderTopLeftRadius:bn,borderTopRightRadius:bn,borderBottomRightRadius:bn,borderBottomLeftRadius:bn,width:bn,maxWidth:bn,height:bn,maxHeight:bn,size:bn,top:bn,right:bn,bottom:bn,left:bn,padding:bn,paddingTop:bn,paddingRight:bn,paddingBottom:bn,paddingLeft:bn,margin:bn,marginTop:bn,marginRight:bn,marginBottom:bn,marginLeft:bn,rotate:yn,rotateX:yn,rotateY:yn,rotateZ:yn,scale:un,scaleX:un,scaleY:un,scaleZ:un,skew:yn,skewX:yn,skewY:yn,distance:bn,translateX:bn,translateY:bn,translateZ:bn,x:bn,y:bn,z:bn,perspective:bn,transformPerspective:bn,opacity:cn,originX:kn,originY:kn,originZ:bn,zIndex:Sn,fillOpacity:cn,strokeOpacity:cn,numOctaves:Sn};function Cn(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(rn(d)){i[d]=e;continue}const n=_n[d],r=sn(e,n);if(Gt.has(d)){if(l=!0,s[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=r):o[d]=r}if(t.transform||(l||r?o.transform=function(e,t,n,r){let{enableHardwareAcceleration:o=!0,allowTransformNone:i=!0}=t,s="";for(let a=0;a<tn;a++){const t=Yt[a];void 0!==e[t]&&(s+="".concat(en[t]||t,"(").concat(e[t],") "))}return o&&!e.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(e,n?"":s):i&&n&&(s="none"),s}(e.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;o.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const En=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Pn(e,t,n){for(const r in t)Zt(t[r])||Xt(r,n)||(e[r]=t[r])}function Tn(e,t,n){const r={};return Pn(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,o.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Cn(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function jn(e,t,n){const r={},o=Tn(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const Nn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function An(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Nn.has(e)}let On=e=>!An(e);try{(Ln=require("@emotion/is-prop-valid").default)&&(On=e=>e.startsWith("on")?!An(e):Ln(e))}catch(_u){}var Ln;function Rn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Dn(e,t,n){return"string"===typeof e?e:bn.transform(t+n*e)}const Mn={offset:"stroke-dashoffset",array:"stroke-dasharray"},In={offset:"strokeDashoffset",array:"strokeDasharray"};const Fn=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Bn(e,t,n,r,o){let{attrX:i,attrY:s,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(Cn(e,Rn(t,Fn),n,o),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=Dn(t,e.x,e.width),o=Dn(n,e.y,e.height);return"".concat(r," ").concat(o)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==i&&(f.x=i),void 0!==s&&(f.y=s),void 0!==a&&(f.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?Mn:In;e[i.offset]=bn.transform(-r);const s=bn.transform(t),a=bn.transform(n);e[i.array]="".concat(s," ").concat(a)}(f,u,d,h,!1)}const Vn=()=>(0,E.A)((0,E.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),zn=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Un(e,t,n,r){const i=(0,o.useMemo)(()=>{const n=Vn();return Bn(n,t,{enableHardwareAcceleration:!1},zn(r),e.transformTemplate),(0,E.A)((0,E.A)({},n.attrs),{},{style:(0,E.A)({},n.style)})},[t]);if(e.style){const t={};Pn(t,e.style,e),i.style=(0,E.A)((0,E.A)({},t),i.style)}return i}function Wn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,i,s)=>{let{latestValues:a}=i;const l=(Qt(t)?Un:jn)(n,a,s,t),c=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(On(o)||!0===n&&An(o)||!t&&!An(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"===typeof t,e),u=(0,E.A)((0,E.A)((0,E.A)({},c),l),{},{ref:r}),{children:d}=n,h=(0,o.useMemo)(()=>Zt(d)?d.get():d,[d]);return(0,o.createElement)(t,(0,E.A)((0,E.A)({},u),{},{children:h}))}}function Hn(e,t,n,r){let{style:o,vars:i}=t;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(const s in i)e.style.setProperty(s,i[s])}const qn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jn(e,t,n,r){Hn(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(qn.has(o)?o:Tt(o),t.attrs[o])}function $n(e,t){const{style:n}=e,r={};for(const o in n)(Zt(n[o])||t.style&&Zt(t.style[o])||Xt(o,e))&&(r[o]=n[o]);return r}function Qn(e,t){const n=$n(e,t);for(const r in e)if(Zt(e[r])||Zt(t[r])){n[-1!==Yt.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Kn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),t}function Yn(e){const t=(0,o.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Gn=e=>Array.isArray(e),Xn=e=>Gn(e)?e[e.length-1]||0:e;function Zn(e){const t=Zt(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const er=["transitionEnd","transition"];const tr=e=>(t,n)=>{const r=(0,o.useContext)(St),i=(0,o.useContext)(_t),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i,onMount:s}=e;const a={latestValues:nr(t,n,r,o),renderState:i()};return s&&(a.mount=e=>s(t,e,a)),a}(e,t,r,i);return n?s():Yn(s)};function nr(e,t,n,r){const o={},i=r(e,{});for(const h in i)o[h]=Zn(i[h]);let{initial:s,animate:a}=e;const l=Dt(e),c=Mt(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const d=u?a:s;if(d&&"boolean"!==typeof d&&!Ot(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=Kn(e,t);if(!n)return;const{transitionEnd:r,transition:i}=n,s=Rn(n,er);for(const e in s){let t=s[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(o[e]=t)}for(const e in r)o[e]=r[e]})}return o}const rr=e=>e;class or{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const ir=["prepare","read","update","preRender","render","postRender"];const{schedule:sr,cancel:ar,state:lr,steps:cr}=function(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=ir.reduce((e,t)=>(e[t]=function(e){let t=new or,n=new or,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o,a=i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),a.add(e)&&i&&o&&(r=t.order.length),e},cancel:e=>{n.remove(e),s.delete(e)},process:l=>{if(o)i=!0;else{if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),s.has(r)&&(a.schedule(r),e())}o=!1,i&&(i=!1,a.process(l))}}};return a}(()=>n=!0),e),{}),s=e=>i[e].process(o),a=()=>{const i=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1),o.timestamp=i,o.isProcessing=!0,ir.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=ir.reduce((t,s)=>{const l=i[s];return t[s]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(a)),l.schedule(t,i,s)},t},{});return{schedule:l,cancel:e=>ir.forEach(t=>i[t].cancel(e)),state:o,steps:i}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:rr,!0),ur={useVisualState:tr({scrapeMotionValuesFromProps:Qn,createRenderState:Vn,onMount:(e,t,n)=>{let{renderState:r,latestValues:o}=n;sr.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(ku){r.dimensions={x:0,y:0,width:0,height:0}}}),sr.render(()=>{Bn(r,o,{enableHardwareAcceleration:!1},zn(t.tagName),e.transformTemplate),Jn(t,r)})}})},dr={useVisualState:tr({scrapeMotionValuesFromProps:$n,createRenderState:En})};function hr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const fr=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function pr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function mr(e,t,n,r){return hr(e,t,(e=>t=>fr(t)&&e(t,pr(t)))(n),r)}const gr=(e,t)=>n=>t(e(n)),yr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(gr)};function vr(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const br=vr("dragHorizontal"),xr=vr("dragVertical");function wr(e){let t=!1;if("y"===e)t=xr();else if("x"===e)t=br();else{const e=br(),n=xr();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function kr(){const e=wr(!0);return!e||(e(),!1)}class Sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _r(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return mr(e.current,n,(n,o)=>{if("touch"===n.pointerType||kr())return;const i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t),i[r]&&sr.update(()=>i[r](n,o))},{passive:!e.getProps()[r]})}const Cr=(e,t)=>!!t&&(e===t||Cr(e,t.parentElement));function Er(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,pr(n))}const Pr=["root"],Tr=new WeakMap,jr=new WeakMap,Nr=e=>{const t=Tr.get(e.target);t&&t(e)},Ar=e=>{e.forEach(Nr)};function Or(e,t,n){const r=function(e){let{root:t}=e,n=Rn(e,Pr);const r=t||document;jr.has(r)||jr.set(r,{});const o=jr.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(Ar,(0,E.A)({root:t},n))),o[i]}(t);return Tr.set(e,n),r.observe(e),()=>{Tr.delete(e),r.unobserve(e)}}const Lr={some:0,all:1};const Rr={inView:{Feature:class extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Lr[r]};return Or(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Sr{constructor(){super(...arguments),this.removeStartListeners=rr,this.removeEndListeners=rr,this.removeAccessibleListeners=rr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=mr(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:o}=this.node.getProps();sr.update(()=>{o||Cr(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),o=mr(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=yr(r,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=hr(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=hr(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Er("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&sr.update(()=>n(e,t))})}),Er("down",(e,t)=>{this.startPress(e,t)})}),t=hr(this.node.current,"blur",()=>{this.isPressing&&Er("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=yr(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&sr.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kr()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&sr.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=mr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=hr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yr(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(ku){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yr(hr(this.node.current,"focus",()=>this.onFocus()),hr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Sr{mount(){this.unmount=yr(_r(this.node,!0),_r(this.node,!1))}unmount(){}}}};function Dr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Mr(e,t,n){const r=e.getProps();return Kn(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let Ir=rr,Fr=rr;const Br=e=>1e3*e,Vr=e=>e/1e3,zr=!1,Ur=e=>Array.isArray(e)&&"number"===typeof e[0];function Wr(e){return Boolean(!e||"string"===typeof e&&qr[e]||Ur(e)||Array.isArray(e)&&e.every(Wr))}const Hr=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},qr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hr([0,.65,.55,1]),circOut:Hr([.55,0,1,.45]),backIn:Hr([.31,.01,.66,-.59]),backOut:Hr([.33,1.53,.69,.99])};function Jr(e){if(e)return Ur(e)?Hr(e):Array.isArray(e)?e.map(Jr):qr[e]}const $r=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Qr(e,t,n,r){if(e===t&&n===r)return rr;const o=t=>function(e,t,n,r,o){let i,s,a=0;do{s=t+(n-t)/2,i=$r(s,r,o)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:$r(o(e),t,r)}const Kr=Qr(.42,0,1,1),Yr=Qr(0,0,.58,1),Gr=Qr(.42,0,.58,1),Xr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Zr=e=>t=>1-e(1-t),eo=e=>1-Math.sin(Math.acos(e)),to=Zr(eo),no=Xr(eo),ro=Qr(.33,1.53,.69,.99),oo=Zr(ro),io=Xr(oo),so={linear:rr,easeIn:Kr,easeInOut:Gr,easeOut:Yr,circIn:eo,circInOut:no,circOut:to,backIn:oo,backInOut:io,backOut:ro,anticipate:e=>(e*=2)<1?.5*oo(e):.5*(2-Math.pow(2,-10*(e-1)))},ao=e=>{if(Array.isArray(e)){Fr(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,o]=e;return Qr(t,n,r,o)}return"string"===typeof e?(Fr(void 0!==so[e],"Invalid easing type '".concat(e,"'")),so[e]):e},lo=(e,t)=>n=>Boolean(mn(n)&&pn.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),co=(e,t,n)=>r=>{if(!mn(r))return r;const[o,i,s,a]=r.match(hn);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},uo=(0,E.A)((0,E.A)({},ln),{},{transform:e=>Math.round((e=>an(0,255,e))(e))}),ho={test:lo("rgb","red"),parse:co("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+uo.transform(t)+", "+uo.transform(n)+", "+uo.transform(r)+", "+dn(cn.transform(o))+")"}};const fo={test:lo("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:ho.transform},po={test:lo("hsl","hue"),parse:co("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+vn.transform(dn(n))+", "+vn.transform(dn(r))+", "+dn(cn.transform(o))+")"}},mo={test:e=>ho.test(e)||fo.test(e)||po.test(e),parse:e=>ho.test(e)?ho.parse(e):po.test(e)?po.parse(e):fo.parse(e),transform:e=>mn(e)?e:e.hasOwnProperty("red")?ho.transform(e):po.transform(e)},go=(e,t,n)=>-n*e+n*t+e;function yo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const vo=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},bo=[fo,ho,po];function xo(e){const t=(n=e,bo.find(e=>e.test(n)));var n;Fr(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===po&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=yo(o,e,t+1/3),s=yo(o,e,t),a=yo(o,e,t-1/3)}else i=s=a=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:o}}(r)),r}const wo=(e,t)=>{const n=xo(e),r=xo(t),o=(0,E.A)({},n);return e=>(o.red=vo(n.red,r.red,e),o.green=vo(n.green,r.green,e),o.blue=vo(n.blue,r.blue,e),o.alpha=go(n.alpha,r.alpha,e),ho.transform(o))};const ko={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:rr},So={regex:fn,countKey:"Colors",token:"${c}",parse:mo.parse},_o={regex:hn,countKey:"Numbers",token:"${n}",parse:ln.parse};function Co(e,t){let{regex:n,countKey:r,token:o,parse:i}=t;const s=e.tokenised.match(n);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(n,o),e.values.push(...s.map(i)))}function Eo(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Co(n,ko),Co(n,So),Co(n,_o),n}function Po(e){return Eo(e).values}function To(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Eo(e),i=t.length;return e=>{let t=o;for(let o=0;o<i;o++)t=o<r?t.replace(ko.token,e[o]):o<r+n?t.replace(So.token,mo.transform(e[o])):t.replace(_o.token,dn(e[o]));return t}}const jo=e=>"number"===typeof e?0:e;const No={test:function(e){var t,n;return isNaN(e)&&mn(e)&&((null===(t=e.match(hn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(fn))||void 0===n?void 0:n.length)||0)>0},parse:Po,createTransformer:To,getAnimatableNone:function(e){const t=Po(e);return To(e)(t.map(jo))}},Ao=(e,t)=>n=>"".concat(n>0?t:e);function Oo(e,t){return"number"===typeof e?n=>go(e,t,n):mo.test(e)?wo(e,t):e.startsWith("var(")?Ao(e,t):Do(e,t)}const Lo=(e,t)=>{const n=[...e],r=n.length,o=e.map((e,n)=>Oo(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}},Ro=(e,t)=>{const n=(0,E.A)((0,E.A)({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Oo(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Do=(e,t)=>{const n=No.createTransformer(t),r=Eo(e),o=Eo(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?yr(Lo(r.values,o.values),n):(Ir(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Ao(e,t))},Mo=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Io=(e,t)=>n=>go(e,t,n);function Fo(e,t,n){const r=[],o=n||("number"===typeof(i=e[0])?Io:"string"===typeof i?mo.test(i)?wo:Do:Array.isArray(i)?Lo:"object"===typeof i?Ro:Io);var i;const s=e.length-1;for(let a=0;a<s;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||rr:t;n=yr(e,n)}r.push(n)}return r}function Bo(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(Fr(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Fo(t,r,o),a=s.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Mo(e[n],e[n+1],t);return s[n](r)};return n?t=>l(an(e[0],e[i-1],t)):l}function Vo(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Mo(0,t,r);e.push(go(n,1,o))}}(t,e.length-1),t}function zo(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(ao):ao(o),s={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Vo(n),t),l=Bo(a,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||Gr).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}function Uo(e,t){return t?e*(1e3/t):0}function Wo(e,t,n){const r=Math.max(t-5,0);return Uo(n-e(r),t-r)}const Ho=.001;function qo(e){let t,n,{duration:r=800,bounce:o=.25,velocity:i=0,mass:s=1}=e;Ir(r<=Br(10),"Spring duration must be 10 seconds or less");let a=1-o;a=an(.05,1,a),r=an(.01,10,Vr(r)),a<1?(t=e=>{const t=e*a,n=t*r,o=t-i,s=$o(e,a),l=Math.exp(-n);return Ho-o/s*l},n=e=>{const n=e*a*r,o=n*i+i,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=$o(Math.pow(e,2),a);return(-t(e)+Ho>0?-1:1)*((o-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let o=1;o<Jo;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Br(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const Jo=12;function $o(e,t){return e*Math.sqrt(1-t*t)}const Qo=["keyframes","restDelta","restSpeed"],Ko=["duration","bounce"],Yo=["stiffness","damping","mass"];function Go(e,t){return t.some(t=>void 0!==e[t])}function Xo(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,o=Rn(e,Qo);const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=(0,E.A)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Go(e,Yo)&&Go(e,Ko)){const n=qo(e);t=(0,E.A)((0,E.A)((0,E.A)({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}((0,E.A)((0,E.A)({},o),{},{velocity:-Vr(o.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=s-i,y=Vr(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=$o(y,m);b=t=>{const n=Math.exp(-m*y*t);return s-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return s-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let o=p;0!==e&&(o=m<1?Wo(b,e,t):0);const i=Math.abs(o)<=r,l=Math.abs(s-t)<=n;a.done=i&&l}return a.value=a.done?s:t,a}}}function Zo(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===a?g:a(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/o),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,k;const S=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=Xo({keyframes:[f.value,p(f.value)],velocity:Wo(b,e,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>w?k.next(e-w):(!t&&x(e),f)}}}const ei=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>sr.update(t,!0),stop:()=>ar(t),now:()=>lr.isProcessing?lr.timestamp:performance.now()}};function ti(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const ni=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],ri={decay:Zo,inertia:Zo,tween:zo,keyframes:zo,spring:Xo};function oi(e){let t,n,{autoplay:r=!0,delay:o=0,driver:i=ei,keyframes:s,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p}=e,m=Rn(e,ni),g=1,y=!1;const v=()=>{n=new Promise(e=>{t=e})};let b;v();const x=ri[a]||zo;let w;x!==zo&&"number"!==typeof s[0]&&(w=Bo([0,100],s,{clamp:!1}),s=[0,100]);const k=x((0,E.A)((0,E.A)({},m),{},{keyframes:s}));let S;"mirror"===u&&(S=x((0,E.A)((0,E.A)({},m),{},{keyframes:[...s].reverse(),velocity:-(m.velocity||0)})));let _="idle",C=null,P=null,T=null;null===k.calculatedDuration&&l&&(k.calculatedDuration=ti(k));const{calculatedDuration:j}=k;let N=1/0,A=1/0;null!==j&&(N=j+c,A=N*(l+1)-c);let O=0;const L=e=>{if(null===P)return;g>0&&(P=Math.min(P,e)),g<0&&(P=Math.min(e-A/g,P)),O=null!==C?C:Math.round(e-P)*g;const t=O-o*(g>=0?1:-1),n=g>=0?t<0:t>A;O=Math.max(t,0),"finished"===_&&null===C&&(O=A);let r=O,i=k;if(l){const e=Math.min(O,A)/N;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/N)):"mirror"===u&&(i=S)),r=an(0,1,n)*N}const a=n?{done:!1,value:s[0]}:i.next(r);w&&(a.value=w(a.value));let{done:d}=a;n||null===j||(d=g>=0?O>=A:O<=0);const h=null===C&&("finished"===_||"running"===_&&d);return p&&p(a.value),h&&M(),a},R=()=>{b&&b.stop(),b=void 0},D=()=>{_="idle",R(),t(),v(),P=T=null},M=()=>{_="finished",f&&f(),R(),t()},I=()=>{if(y)return;b||(b=i(L));const e=b.now();d&&d(),null!==C?P=e-C:P&&"finished"!==_||(P=e),"finished"===_&&v(),T=P,C=null,_="running",b.start()};r&&I();const F={then:(e,t)=>n.then(e,t),get time(){return Vr(O)},set time(e){e=Br(e),O=e,null===C&&b&&0!==g?P=b.now()-e/g:C=e},get duration(){const e=null===k.calculatedDuration?ti(k):k.calculatedDuration;return Vr(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,F.time=Vr(O))},get state(){return _},play:I,pause:()=>{_="paused",C=O},stop:()=>{y=!0,"idle"!==_&&(_="idle",h&&h(),D())},cancel:()=>{null!==T&&L(T),D()},complete:()=>{_="finished"},sample:e=>(P=0,L(e))};return F}const ii=["onUpdate","onComplete"],si=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ai=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function li(e,t,n){let{onUpdate:r,onComplete:o}=n,i=Rn(n,ii);if(!(si()&&ai.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let s,a,l=!1,c=!1;const u=()=>{a=new Promise(e=>{s=e})};u();let{keyframes:d,duration:h=300,ease:f,times:p}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Wr(t.ease))(t,i)){const e=oi((0,E.A)((0,E.A)({},i),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Jr(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"})}(e.owner.current,t,d,(0,E.A)((0,E.A)({},i),{},{duration:h,ease:f,times:p})),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,sr.update(g),s(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,i)),o&&o(),y())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,rr),get time(){return Vr(m.currentTime||0)},set time(e){m.currentTime=Br(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return Vr(h)},play:()=>{l||(m.play(),ar(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=oi((0,E.A)((0,E.A)({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const ci={type:"spring",stiffness:500,damping:25,restSpeed:10},ui={type:"keyframes",duration:.8},di={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hi=(e,t)=>{let{keyframes:n}=t;return n.length>2?ui:Gt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:ci:di},fi=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!No.test(t)&&"0"!==t||t.startsWith("url("))),pi=new Set(["brightness","contrast","saturate","opacity"]);function mi(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(hn)||[];if(!r)return e;const o=n.replace(r,"");let i=pi.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const gi=/([a-z-]*)\(.*?\)/g,yi=(0,E.A)((0,E.A)({},No),{},{getAnimatableNone:e=>{const t=e.match(gi);return t?t.map(mi).join(" "):e}}),vi=(0,E.A)((0,E.A)({},_n),{},{color:mo,backgroundColor:mo,outlineColor:mo,fill:mo,stroke:mo,borderColor:mo,borderTopColor:mo,borderRightColor:mo,borderBottomColor:mo,borderLeftColor:mo,filter:yi,WebkitFilter:yi}),bi=e=>vi[e];function xi(e,t){let n=bi(e);return n!==yi&&(n=No),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wi=e=>/^0[^.\s]+$/.test(e);function ki(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||wi(e):void 0}const Si=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function _i(e,t){return e[t]||e.default||e}const Ci=!1,Ei=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{const i=_i(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a-=Br(s);const l=function(e,t,n,r){const o=fi(t,n);let i;i=Array.isArray(n)?[...n]:[null,n];const s=void 0!==r.from?r.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?s:i[c-1]),ki(i[c])&&l.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++)i[l[c]]=xi(t,a);return i}(t,e,n,i),c=l[0],u=l[l.length-1],d=fi(e,c),h=fi(e,u);Ir(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=(0,E.A)((0,E.A)({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},i),{},{delay:-a,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u}=e,d=Rn(e,Si);return!!Object.keys(d).length}(i)||(f=(0,E.A)((0,E.A)({},f),hi(e,f))),f.duration&&(f.duration=Br(f.duration)),f.repeatDelay&&(f.repeatDelay=Br(f.repeatDelay)),!d||!h||zr||!1===i.type||Ci)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:o}=e;const i=()=>(r&&r(t[t.length-1]),o&&o(),{time:0,speed:1,duration:0,play:rr,pause:rr,stop:rr,then:e=>(e(),Promise.resolve()),cancel:rr,complete:rr});return n?oi({keyframes:[0,1],duration:0,delay:n,onComplete:i}):i()}(zr?(0,E.A)((0,E.A)({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=li(t,e,f);if(n)return n}return oi(f)}};function Pi(e){return Boolean(Zt(e)&&e.add)}const Ti=e=>/^\-?\d*\.?\d+$/.test(e);function ji(e,t){-1===e.indexOf(t)&&e.push(t)}function Ni(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ai{constructor(){this.subscriptions=[]}add(e){return ji(this.subscriptions,e),()=>Ni(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi={current:void 0};class Li{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:o}=lr;t.lastUpdated!==o&&(t.timeDelta=r,t.lastUpdated=o,sr.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>sr.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ai);const n=this.events[e].add(t);return"change"===e?()=>{n(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Oi.current&&Oi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Uo(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ri(e,t){return new Li(e,t)}const Di=e=>t=>t.test(e),Mi=[ln,bn,vn,yn,wn,xn,{test:e=>"auto"===e,parse:e=>e}],Ii=e=>Mi.find(Di(e)),Fi=[...Mi,mo,No],Bi=e=>Fi.find(Di(e)),Vi=["transitionEnd","transition"];function zi(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ri(n))}function Ui(e,t){const n=Mr(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:o={},transition:i={}}=r,s=Rn(r,Vi);s=(0,E.A)((0,E.A)({},s),o);for(const a in s){zi(e,a,Xn(s[a]))}}function Wi(e,t){if(!t)return;return(t[e]||t.default||t).from}const Hi=["transition","transitionEnd"];function qi(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function Ji(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function $i(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.makeTargetAnimatable(t),{transition:s=e.getDefaultTransition(),transitionEnd:a}=i,l=Rn(i,Hi);const c=e.getValue("willChange");r&&(s=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&qi(d,h))continue;const o=(0,E.A)({delay:n,elapsed:0},_i(s||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[jt];if(n){const e=window.HandoffAppearAnimations(n,h,t,sr);null!==e&&(o.elapsed=e,o.isHandoff=!0)}}let i=!o.isHandoff&&!Ji(t,r);if("spring"===o.type&&(t.getVelocity()||o.velocity)&&(i=!1),t.animation&&(i=!1),i)continue;t.start(Ei(h,t,r,e.shouldReduceMotion&&Gt.has(h)?{type:!1}:o));const a=t.animation;Pi(c)&&(c.add(h),a.then(()=>c.remove(h))),u.push(a)}return a&&Promise.all(u).then(()=>{a&&Ui(e,a)}),u}function Qi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Mr(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all($i(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*r,l=1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Ki).forEach((e,r)=>{e.notify("AnimationStart",t),s.push(Qi(e,t,(0,E.A)((0,E.A)({},i),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}(e,t,i+r,s,a,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[e,t]="beforeChildren"===a?[i,s]:[s,i];return e().then(()=>t())}return Promise.all([i(),s(n.delay)])}function Ki(e,t){return e.sortNodePosition(t)}const Yi=["transition","transitionEnd"],Gi=[...Lt].reverse(),Xi=Lt.length;function Zi(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map(t=>Qi(e,t,r));n=Promise.all(o)}else if("string"===typeof t)n=Qi(e,t,r);else{const o="function"===typeof t?Mr(e,t,r.custom):t;n=Promise.all($i(e,o,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function es(e){let t=Zi(e);const n={animate:ns(!0),whileInView:ns(),whileHover:ns(),whileTap:ns(),whileDrag:ns(),whileFocus:ns(),exit:ns()};let r=!0;const o=(t,n)=>{const r=Mr(e,n);if(r){const{transition:e,transitionEnd:n}=r,o=Rn(r,Yi);t=(0,E.A)((0,E.A)((0,E.A)({},t),o),n)}return t};function i(i,s){const a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<Xi;t++){const f=Gi[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=At(m),y=f===s?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=(0,E.A)({},d),!p.isActive&&null===y||!m&&!p.prevProp||Ot(m)||"boolean"===typeof m)continue;let b=ts(p.prevProp,m)||f===s&&p.isActive&&!v&&g||t>h&&g,x=!1;const w=Array.isArray(m)?m:[m];let k=w.reduce(o,{});!1===y&&(k={});const{prevResolvedValues:S={}}=p,_=(0,E.A)((0,E.A)({},S),k),C=e=>{b=!0,u.has(e)&&(x=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in _){const t=k[e],n=S[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Gn(t)&&Gn(n)?!Dr(t,n):t!==n,r?void 0!==t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(d=(0,E.A)((0,E.A)({},d),k)),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!x||c.push(...w.map(e=>({animation:e,options:(0,E.A)({type:f},i)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:i,setActive:function(t,r,o){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=i(o,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function ts(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Dr(t,e)}function ns(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let rs=0;const os={animation:{Feature:class extends Sr{constructor(e){super(e),e.animationState||(e.animationState=es(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ot(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Sr{constructor(){super(...arguments),this.id=rs++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},is=(e,t)=>Math.abs(e-t);class ss{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=cs(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=is(e.x,t.x),r=is(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=lr;this.history.push((0,E.A)((0,E.A)({},r),{},{timestamp:o}));const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=as(t,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=cs("pointercancel"===e.type?this.lastMoveEventInfo:as(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!fr(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=as(pr(e),this.transformPagePoint),{point:s}=i,{timestamp:a}=lr;this.history=[(0,E.A)((0,E.A)({},s),{},{timestamp:a})];const{onSessionStart:l}=t;l&&l(e,cs(i,this.history)),this.removeListeners=yr(mr(this.contextWindow,"pointermove",this.handlePointerMove),mr(this.contextWindow,"pointerup",this.handlePointerUp),mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ar(this.updatePoint)}}function as(e,t){return t?{point:t(e.point)}:e}function ls(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cs(e,t){let{point:n}=e;return{point:n,delta:ls(n,ds(t)),offset:ls(n,us(t)),velocity:hs(t,.1)}}function us(e){return e[0]}function ds(e){return e[e.length-1]}function hs(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=ds(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Br(t)));)n--;if(!r)return{x:0,y:0};const i=Vr(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function fs(e){return e.max-e.min}function ps(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function ms(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=go(t.min,t.max,e.origin),e.scale=fs(n)/fs(t),(ps(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=go(n.min,n.max,e.origin)-e.originPoint,(ps(e.translate)||isNaN(e.translate))&&(e.translate=0)}function gs(e,t,n,r){ms(e.x,t.x,n.x,r?r.originX:void 0),ms(e.y,t.y,n.y,r?r.originY:void 0)}function ys(e,t,n){e.min=n.min+t.min,e.max=e.min+fs(t)}function vs(e,t,n){e.min=t.min-n.min,e.max=e.min+fs(t)}function bs(e,t,n){vs(e.x,t.x,n.x),vs(e.y,t.y,n.y)}function xs(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ws(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const ks=.35;function Ss(e,t,n){return{min:_s(e,t),max:_s(e,n)}}function _s(e,t){return"number"===typeof e?e:e[t]||0}const Cs=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Es(e){return[e("x"),e("y")]}function Ps(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function Ts(e){return void 0===e||1===e}function js(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Ts(t)||!Ts(n)||!Ts(r)}function Ns(e){return js(e)||As(e)||e.z||e.rotate||e.rotateX||e.rotateY}function As(e){return Os(e.x)||Os(e.y)}function Os(e){return e&&"0%"!==e}function Ls(e,t,n){return n+t*(e-n)}function Rs(e,t,n,r,o){return void 0!==o&&(e=Ls(e,o,r)),Ls(e,n,r)+t}function Ds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=Rs(e.min,t,n,r,o),e.max=Rs(e.max,t,n,r,o)}function Ms(e,t){let{x:n,y:r}=t;Ds(e.x,n.translate,n.scale,n.originPoint),Ds(e.y,r.translate,r.scale,r.originPoint)}function Is(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Fs(e,t){e.min=e.min+t,e.max=e.max+t}function Bs(e,t,n){let[r,o,i]=n;const s=void 0!==t[i]?t[i]:.5,a=go(e.min,e.max,s);Ds(e,t[r],t[o],a,t.scale)}const Vs=["x","scaleX","originX"],zs=["y","scaleY","originY"];function Us(e,t){Bs(e.x,t,Vs),Bs(e.y,t,zs)}function Ws(e,t){return Ps(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Hs=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},qs=new WeakMap;class Js{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ss(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(pr(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=wr(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Es(e=>{let t=this.getAxisMotionValue(e).get()||0;if(vn.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=fs(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),o&&sr.update(()=>o(e,t),!1,!0);const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Es(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Hs(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&sr.update(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!$s(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?go(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?go(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&Nt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:xs(e.x,r,i),y:xs(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ks;return!1===e?e=0:!0===e&&(e=ks),{x:Ss(e,"left","right"),y:Ss(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Es(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Nt(e))return!1;const n=e.current;Fr(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=Ws(e,n),{scroll:o}=t;return o&&(Fs(r.x,o.offset.x),Fs(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:ws(e.x,t.x),y:ws(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Ps(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=Es(s=>{if(!$s(s,t,this.currentDirection))return;let l=a&&a[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=(0,E.A)((0,E.A)({type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},o),l);return this.startAxisValueAnimation(s,d)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Ei(e,n,0,t))}stopAnimation(){Es(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Es(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Es(t=>{const{drag:n}=this.getProps();if(!$s(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-go(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Nt(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Es(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=fs(e),o=fs(t);return o>r?n=Mo(t.min,t.max-r,e.min):r>o&&(n=Mo(e.min,e.max-o,t.min)),an(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Es(t=>{if(!$s(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(go(o,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;qs.set(this.visualElement,this);const e=mr(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Nt(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const o=hr(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Es(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=ks,dragMomentum:s=!0}=e;return(0,E.A)((0,E.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:s})}}function $s(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Qs=e=>(t,n)=>{e&&sr.update(()=>e(t,n))};const Ks={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ys(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gs={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!bn.test(e))return e;e=parseFloat(e)}const n=Ys(e,t.target.x),r=Ys(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Xs={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=No.parse(e);if(i.length>5)return o;const s=No.createTransformer(e),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=c;const u=go(l,c,.5);return"number"===typeof i[2+a]&&(i[2+a]/=u),"number"===typeof i[3+a]&&(i[3+a]/=u),s(i)}};class Zs extends o.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;var i;i=ta,Object.assign(Kt,i),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions((0,E.A)((0,E.A)({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),Ks.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,i=n.projection;return i?(i.isPresent=o,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||sr.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ea(e){const[t,n]=function(){const e=(0,o.useContext)(_t);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=(0,o.useId)();return(0,o.useEffect)(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}(),r=(0,o.useContext)(zt);return o.createElement(Zs,(0,E.A)((0,E.A)({},e),{},{layoutGroup:r,switchLayoutGroup:(0,o.useContext)(Ut),isPresent:t,safeToRemove:n}))}const ta={borderRadius:(0,E.A)((0,E.A)({},Gs),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Gs,borderTopRightRadius:Gs,borderBottomLeftRadius:Gs,borderBottomRightRadius:Gs,boxShadow:Xs},na=["TopLeft","TopRight","BottomLeft","BottomRight"],ra=na.length,oa=e=>"string"===typeof e?parseFloat(e):e,ia=e=>"number"===typeof e||bn.test(e);function sa(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const aa=ca(0,.5,to),la=ca(.5,.95,rr);function ca(e,t,n){return r=>r<e?0:r>t?1:n(Mo(e,t,r))}function ua(e,t){e.min=t.min,e.max=t.max}function da(e,t){ua(e.x,t.x),ua(e.y,t.y)}function ha(e,t,n,r,o){return e=Ls(e-=t,1/n,r),void 0!==o&&(e=Ls(e,1/o,r)),e}function fa(e,t,n,r,o){let[i,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;vn.test(t)&&(t=parseFloat(t),t=go(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=go(i.min,i.max,r);e===i&&(a-=t),e.min=ha(e.min,t,n,a,o),e.max=ha(e.max,t,n,a,o)}(e,t[i],t[s],t[a],t.scale,r,o)}const pa=["x","scaleX","originX"],ma=["y","scaleY","originY"];function ga(e,t,n,r){fa(e.x,t,pa,n?n.x:void 0,r?r.x:void 0),fa(e.y,t,ma,n?n.y:void 0,r?r.y:void 0)}function ya(e){return 0===e.translate&&1===e.scale}function va(e){return ya(e.x)&&ya(e.y)}function ba(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function xa(e){return fs(e.x)/fs(e.y)}class wa{constructor(){this.members=[]}add(e){ji(this.members,e),e.scheduleRender()}remove(e){if(Ni(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ka(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:o}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) "))}const s=e.x.scale*t.x,a=e.y.scale*t.y;return 1===s&&1===a||(r+="scale(".concat(s,", ").concat(a,")")),r||"none"}const Sa=(e,t)=>e.depth-t.depth;class _a{constructor(){this.children=[],this.isDirty=!1}add(e){ji(this.children,e),this.isDirty=!0}remove(e){Ni(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Sa),this.isDirty=!1,this.children.forEach(e)}}const Ca=["","X","Y","Z"],Ea={visibility:"hidden"};let Pa=0;const Ta={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ja(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Pa++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,Ta.totalNodes=Ta.resolvedTargetDeltas=Ta.recalculatedProjection=0,this.nodes.forEach(Oa),this.nodes.forEach(Ba),this.nodes.forEach(Va),this.nodes.forEach(La),e=Ta,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new _a)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ai),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:o,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||o)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=o=>{let{timestamp:i}=o;const s=i-n;s>=t&&(ar(r),e(s-t))};return sr.read(r,!0),()=>ar(r)}(r,250),Ks.hasAnimatedSinceResize&&(Ks.hasAnimatedSinceResize=!1,this.nodes.forEach(Fa))})}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||Ja,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!ba(this.targetLayout,o)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=(0,E.A)((0,E.A)({},_i(i,"layout")),{},{onPlay:a,onComplete:l});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Fa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(za),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Da);this.isUpdating||this.nodes.forEach(Ma),this.isUpdating=!1,this.nodes.forEach(Ia),this.nodes.forEach(Na),this.nodes.forEach(Aa),this.clearAllSnapshots();const e=performance.now();lr.delta=an(0,1e3/60,e-lr.timestamp),lr.timestamp=e,lr.isProcessing=!0,cr.update.process(lr),cr.preRender.process(lr),cr.render.process(lr),lr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ra),this.sharedNodes.forEach(Ua)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!va(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||Ns(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Ka((r=n).x),Ka(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Fs(t.x,n.offset.x),Fs(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};da(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:i}=r;if(r!==this.root&&o&&i.layoutScroll){if(o.isRoot){da(t,e);const{scroll:n}=this.root;n&&(Fs(t.x,-n.offset.x),Fs(t.y,-n.offset.y))}Fs(t.x,o.offset.x),Fs(t.y,o.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};da(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Us(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ns(e.latestValues)&&Us(n,e.latestValues)}return Ns(this.latestValues)&&Us(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};da(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ns(e.latestValues))continue;js(e.latestValues)&&e.updateSnapshot();const r=Cs();da(r,e.measurePageBox()),ga(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ns(this.latestValues)&&ga(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,E.A)((0,E.A)((0,E.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:o,layoutId:i}=this.options;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=lr.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},bs(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,ys(s.x,a.x,l.x),ys(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):da(this.target,this.layout.layoutBox),Ms(this.target,this.targetDelta)):da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},bs(this.relativeTargetOrigin,this.target,e.target),da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ta.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!js(this.parent.latestValues)&&!As(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===lr.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;da(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,s;t.x=t.y=1;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const o=i.instance;o&&o.style&&"contents"===o.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Us(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Ms(e,s)),r&&Ns(i.latestValues)&&Us(e,i.latestValues))}t.x=Is(t.x),t.y=Is(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;gs(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=ka(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ta.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=(0,E.A)({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(qa));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;Wa(i.x,e.x,n),Wa(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bs(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=s,g=n,Ha(f.x,p.x,m.x,g),Ha(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,l.x.min===h.x.min&&l.x.max===h.x.max&&l.y.min===h.y.min&&l.y.max===h.y.max)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),da(d,this.relativeTarget)),a&&(this.animationValues=o,function(e,t,n,r,o,i){o?(e.opacity=go(0,void 0!==n.opacity?n.opacity:1,aa(r)),e.opacityExit=go(void 0!==t.opacity?t.opacity:1,0,la(r))):i&&(e.opacity=go(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<ra;s++){const o="border".concat(na[s],"Radius");let i=sa(t,o),a=sa(n,o);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||ia(i)===ia(a)?(e[o]=Math.max(go(oa(i),oa(a),r),0),(vn.test(a)||vn.test(i))&&(e[o]+="%")):e[o]=a)}(t.rotate||n.rotate)&&(e.rotate=go(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{Ks.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Zt(e)?e:Ri(e);return r.start(Ei("",r,t,n)),r.animation}(0,1e3,(0,E.A)((0,E.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Ya(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=fs(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=fs(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}da(t,n),Us(t,o),gs(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new wa);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let o=0;o<Ca.length;o++){const t="rotate"+Ca[o];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const o in r)e.setStaticValue(o,r[o]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ea;const r={visibility:""},o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Zn(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Zn(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(t.transform=o?o({},""):"none",this.hasProjected=!1),t}const s=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=ka(this.projectionDeltaWithTransform,this.treeScale,s),o&&(r.transform=o(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),i.animationValues?r.opacity=i===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=i===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in Kt){if(void 0===s[c])continue;const{correct:e,applyTo:t}=Kt[c],n="none"===r.transform?s[c]:e(s[c],i);if(t){const e=t.length;for(let o=0;o<e;o++)r[t[o]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=i===this?Zn(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Da),this.root.sharedNodes.clear()}}}function Na(e){e.updateLayout()}function Aa(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?Es(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=fs(r);r.min=t[e].min,r.max=r.min+o}):Ya(o,n.layoutBox,t)&&Es(r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],s=fs(t[r]);o.max=o.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};gs(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?gs(a,e.applyTransform(r,!0),n.measuredBox):gs(a,t,n.layoutBox);const l=!va(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};bs(s,n.layoutBox,o.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};bs(a,t,i.layoutBox),ba(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Oa(e){Ta.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function La(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ra(e){e.clearSnapshot()}function Da(e){e.clearMeasurements()}function Ma(e){e.isLayoutDirty=!1}function Ia(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fa(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ba(e){e.resolveTargetDelta()}function Va(e){e.calcProjection()}function za(e){e.resetRotation()}function Ua(e){e.removeLeadSnapshot()}function Wa(e,t,n){e.translate=go(t.translate,0,n),e.scale=go(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ha(e,t,n,r){e.min=go(t.min,n.min,r),e.max=go(t.max,n.max,r)}function qa(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ja={duration:.45,ease:[.4,0,.1,1]},$a=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Qa=$a("applewebkit/")&&!$a("chrome/")?Math.round:rr;function Ka(e){e.min=Qa(e.min),e.max=Qa(e.max)}function Ya(e,t,n){return"position"===e||"preserve-aspect"===e&&!ps(xa(t),xa(n),.2)}const Ga=ja({attachResizeListener:(e,t)=>hr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xa={current:void 0},Za=ja({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xa.current){const e=new Ga({});e.mount(window),e.setOptions({layoutScroll:!0}),Xa.current=e}return Xa.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),el={pan:{Feature:class extends Sr{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new ss(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hs(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Qs(e),onStart:Qs(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&sr.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=mr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Sr{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new Js(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Za,MeasureLayout:ea}};const tl=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Fr(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,o]=function(e){const t=tl.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Ti(e)?parseFloat(e):e}return on(o)?nl(o,t,n+1):o}function rl(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const o=e.current;if(!(o instanceof Element))return{target:r,transitionEnd:n};n&&(n=(0,E.A)({},n)),e.values.forEach(e=>{const t=e.get();if(!on(t))return;const n=nl(t,o);n&&e.set(n)});for(const i in r){const e=r[i];if(!on(e))continue;const t=nl(e,o);t&&(r[i]=t,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:r,transitionEnd:n}}const ol=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),il=e=>ol.has(e),sl=e=>e===ln||e===bn,al=(e,t)=>parseFloat(e.split(", ")[t]),ll=(e,t)=>(n,r)=>{let{transform:o}=r;if("none"===o||!o)return 0;const i=o.match(/^matrix3d\((.+)\)$/);if(i)return al(i[1],t);{const t=o.match(/^matrix\((.+)\)$/);return t?al(t[1],e):0}},cl=new Set(["x","y","z"]),ul=Yt.filter(e=>!cl.has(e));const dl={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:ll(4,13),y:ll(5,14)};dl.translateX=dl.x,dl.translateY=dl.y;const hl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=(0,E.A)({},t),r=(0,E.A)({},r);const o=Object.keys(t).filter(il);let i=[],s=!1;const a=[];if(o.forEach(o=>{const l=e.getValue(o);if(!e.hasValue(o))return;let c=n[o],u=Ii(c);const d=t[o];let h;if(Gn(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=Ii(c);for(let n=t;n<e&&null!==d[n];n++)h?Fr(Ii(d[n])===h,"All keyframes must be of the same type"):(h=Ii(d[n]),Fr(h===u||sl(u)&&sl(h),"Keyframes must be of the same dimension as the current value"))}else h=Ii(d);if(u!==h)if(sl(u)&&sl(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[o]=parseFloat(d):Array.isArray(d)&&h===bn&&(t[o]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[o]=u.transform(d):(s||(i=function(e){const t=[];return ul.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),s=!0),a.push(o),r[o]=void 0!==r[o]?r[o]:t[o],l.jump(d))}),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,o=((e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};"none"===s&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{a[e]=dl[e](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=dl[n](l,i)}),e})(t,e,a);return i.length&&i.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Ct&&null!==n&&window.scrollTo({top:n}),{target:o,transitionEnd:r}}return{target:t,transitionEnd:r}};function fl(e,t,n,r){return(e=>Object.keys(e).some(il))(t)?hl(e,t,n,r):{target:t,transitionEnd:r}}const pl={current:null},ml={current:!1};const gl=new WeakMap,yl=["willChange"],vl=["children"],bl=Object.keys(Vt),xl=bl.length,wl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kl=Rt.length;class Sl{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sr.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget=(0,E.A)({},a),this.initialValues=n.initial?(0,E.A)({},a):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Dt(n),this.isVariantNode=Mt(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=Rn(c,yl);for(const h in d){const e=d[h];void 0!==a[h]&&Zt(e)&&(e.set(a[h],!1),Pi(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,gl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ml.current||function(){if(ml.current=!0,Ct)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pl.current=e.matches;e.addListener(t),t()}else pl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||pl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gl.delete(this.current),this.projection&&this.projection.unmount(),ar(this.notifyUpdate),ar(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Gt.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&sr.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),o()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let o,i,{children:s}=e,a=Rn(e,vl);for(let l=0;l<xl;l++){const e=bl[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:s}=Vt[e];r&&(o=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),s&&(i=s))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:i,layoutScroll:s,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||i&&Nt(i),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:s,layoutRoot:l})}return i}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<wl.length;n++){const t=wl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Zt(i))e.addValue(o,i),Pi(r)&&r.add(o);else if(Zt(s))e.addValue(o,Ri(i,{owner:e})),Pi(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const t=e.getValue(o);!t.hasAnimated&&t.set(i)}else{const t=e.getStaticValue(o);e.addValue(o,Ri(void 0!==t?t:i,{owner:e}))}}for(const o in n)void 0===t[o]&&e.removeValue(o);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<kl;t++){const n=Rt[t],r=this.props[n];(At(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ri(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Kn(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||Zt(o)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Ai),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const _l=["transition","transitionEnd"];class Cl extends Sl{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:o}=e,i=Rn(e,_l),{transformValues:s}=t,a=function(e,t,n){const r={};for(const o in e){const e=Wi(o,t);if(void 0!==e)r[o]=e;else{const e=n.getValue(o);e&&(r[o]=e.get())}}return r}(i,r||{},this);if(s&&(o&&(o=s(o)),i&&(i=s(i)),a&&(a=s(a))),n){!function(e,t,n){var r,o;const i=Object.keys(t).filter(t=>!e.hasValue(t)),s=i.length;if(s)for(let a=0;a<s;a++){const s=i[a],l=t[s];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(o=null!==(r=n[s])&&void 0!==r?r:e.readValue(s))&&void 0!==o?o:t[s]),void 0!==c&&null!==c&&("string"===typeof c&&(Ti(c)||wi(c))?c=parseFloat(c):!Bi(c)&&No.test(l)&&(c=xi(s,l)),e.addValue(s,Ri(c,{owner:e})),void 0===n[s]&&(n[s]=c),null!==c&&e.setBaseTarget(s,c))}}(this,i,a);const e=((e,t,n,r)=>{const o=rl(e,t,r);return fl(e,t=o.target,n,r=o.transitionEnd)})(this,i,a,o);o=e.transitionEnd,i=e.target}return(0,E.A)({transition:r,transitionEnd:o},i)}}class El extends Cl{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Gt.has(t)){const e=bi(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),o=(rn(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof o?o.trim():o}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Ws(e,n)}build(e,t,n,r){Cn(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return $n(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){Hn(e,t,n,r)}}class Pl extends Cl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gt.has(t)){const e=bi(t);return e&&e.default||0}return t=qn.has(t)?t:Tt(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Qn(e,t)}build(e,t,n,r){Bn(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Jn(e,t,0,r)}mount(e){this.isSVGTag=zn(e.tagName),super.mount(e)}}const Tl=(e,t)=>Qt(e)?new Pl(t,{enableHardwareAcceleration:!1}):new El(t,{enableHardwareAcceleration:!0}),jl={layout:{ProjectionNode:Za,MeasureLayout:ea}};const Nl=(0,E.A)((0,E.A)((0,E.A)((0,E.A)({},os),Rr),el),jl),Al=Jt((e,t)=>function(e,t,n,r){let{forwardMotionProps:o=!1}=t;const i=Qt(e)?ur:dr;return(0,E.A)((0,E.A)({},i),{},{preloadedFeatures:n,useRender:Wn(o),createVisualElement:r,Component:e})}(e,t,Nl,Tl));function Ol(){const e=(0,o.useRef)(!1);return Et(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class Ll extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Rl(e){let{children:t,isPresent:n}=e;const r=(0,o.useId)(),i=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0});return(0,o.useInsertionEffect)(()=>{const{width:e,height:t,top:o,left:a}=s.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(o,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),o.createElement(Ll,{isPresent:n,childRef:i,sizeRef:s},o.cloneElement(t,{ref:i}))}const Dl=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l}=e;const c=Yn(Ml),u=(0,o.useId)(),d=(0,o.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:s,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),a?void 0:[r]);return(0,o.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),o.useEffect(()=>{!r&&!c.size&&i&&i()},[r]),"popLayout"===l&&(t=o.createElement(Rl,{isPresent:r},t)),o.createElement(_t.Provider,{value:d},t)};function Ml(){return new Map}const Il=e=>e.key||"";const Fl=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"}=e;Fr(!s,"Replace exitBeforeEnter with mode='wait'");const c=(0,o.useContext)(zt).forceRender||function(){const e=Ol(),[t,n]=(0,o.useState)(0),r=(0,o.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,o.useCallback)(()=>sr.postRender(r),[r]),t]}()[0],u=Ol(),d=function(e){const t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}(t);let h=d;const f=(0,o.useRef)(new Map).current,p=(0,o.useRef)(h),m=(0,o.useRef)(new Map).current,g=(0,o.useRef)(!0);var y;if(Et(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=Il(e);t.set(n,e)})}(d,m),p.current=h}),y=()=>{g.current=!0,m.clear(),f.clear()},(0,o.useEffect)(()=>()=>y(),[]),g.current)return o.createElement(o.Fragment,null,h.map(e=>o.createElement(Dl,{key:Il(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:l},e)));h=[...h];const v=p.current.map(Il),b=d.map(Il),x=v.length;for(let o=0;o<x;o++){const e=v[o];-1!==b.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach((e,t)=>{if(-1!==b.indexOf(t))return;const r=m.get(t);if(!r)return;const s=v.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter(e=>!b.includes(e));if(e.forEach(e=>m.delete(e)),p.current=d.filter(n=>{const r=Il(n);return r===t||e.includes(r)}),!f.size){if(!1===u.current)return;c(),i&&i()}};g=o.createElement(Dl,{key:Il(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:a,mode:l},r),f.set(t,g)}h.splice(s,0,g)}),h=h.map(e=>{const t=e.key;return f.has(t)?e:o.createElement(Dl,{key:Il(e),isPresent:!0,presenceAffectsLayout:a,mode:l},e)}),o.createElement(o.Fragment,null,f.size?h:h.map(e=>(0,o.cloneElement)(e)))},Bl=!!("undefined"!==typeof window&&window.Capacitor&&window.Capacitor.isNativePlatform&&window.Capacitor.isNativePlatform()),Vl=Bl&&null!==(zl=window.Capacitor)&&void 0!==zl&&zl.getPlatform?window.Capacitor.getPlatform():"web";var zl;const Ul="ios"===Vl;function Wl(e){try{var t,n;if(null!==(t=window.Capacitor)&&void 0!==t&&null!==(n=t.Plugins)&&void 0!==n&&n[e])return window.Capacitor.Plugins[e]}catch(ku){}return null}const Hl=Wl("Haptics"),ql={async light(){if(Hl)try{await Hl.impact({style:"LIGHT"})}catch(ku){console.warn("Haptics light failed:",ku)}},async medium(){if(Hl)try{await Hl.impact({style:"MEDIUM"})}catch(ku){console.warn("Haptics medium failed:",ku)}},async heavy(){if(Hl)try{await Hl.impact({style:"HEAVY"})}catch(ku){console.warn("Haptics heavy failed:",ku)}},async success(){if(Hl)try{await Hl.notification({type:"SUCCESS"})}catch(ku){console.warn("Haptics success failed:",ku)}},async warning(){if(Hl)try{await Hl.notification({type:"WARNING"})}catch(ku){console.warn("Haptics warning failed:",ku)}},async error(){if(Hl)try{await Hl.notification({type:"ERROR"})}catch(ku){console.warn("Haptics error failed:",ku)}},async selection(){if(Hl)try{await Hl.selectionStart(),await Hl.selectionChanged(),await Hl.selectionEnd()}catch(ku){console.warn("Haptics selection failed:",ku)}}},Jl=(Wl("StatusBar"),Wl("Keyboard"),Wl("PushNotifications")),$l={async requestPermission(){if(!Jl)return!1;try{return"granted"===(await Jl.requestPermissions()).receive&&(await Jl.register(),!0)}catch(ku){return console.warn("Push permission request failed:",ku),!1}},async checkPermission(){if(!Jl)return"unsupported";try{return(await Jl.checkPermissions()).receive}catch(ku){return"unsupported"}},onRegistration(e){if(!Jl)return null;try{return Jl.addListener("registration",e)}catch(ku){return console.warn("Failed to add registration listener:",ku),null}},onRegistrationError(e){if(!Jl)return null;try{return Jl.addListener("registrationError",e)}catch(ku){return console.warn("Failed to add registration error listener:",ku),null}},onPushReceived(e){if(!Jl)return null;try{return Jl.addListener("pushNotificationReceived",e)}catch(ku){return console.warn("Failed to add push received listener:",ku),null}},onPushTapped(e){if(!Jl)return null;try{return Jl.addListener("pushNotificationActionPerformed",e)}catch(ku){return console.warn("Failed to add push tapped listener:",ku),null}},async removeAllDelivered(){if(Jl)try{await Jl.removeAllDeliveredNotifications()}catch(ku){console.warn("Failed to remove delivered notifications:",ku)}}},Ql=Wl("LocalNotifications"),Kl={async requestPermission(){if(!Ql)return!1;try{return"granted"===(await Ql.requestPermissions()).display}catch(ku){return console.warn("Local notification permission failed:",ku),!1}},async schedule(e){if(Ql)try{await Ql.schedule({notifications:Array.isArray(e)?e:[e]})}catch(ku){console.warn("Failed to schedule local notification:",ku)}},async scheduleCheckIn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Ql)try{await Ql.schedule({notifications:[{id:1001,title:"Hey, how are you doing?",body:"Take a moment to check in with MJ.",schedule:{on:{hour:e,minute:t},repeats:!0,allowWhileIdle:!0},extra:{action:"open_mood_log"}}]})}catch(ku){console.warn("Failed to schedule check-in:",ku)}},async cancelAll(){if(Ql)try{const e=await Ql.getPending();e.notifications.length>0&&await Ql.cancel(e)}catch(ku){console.warn("Failed to cancel local notifications:",ku)}},onTapped(e){if(!Ql)return null;try{return Ql.addListener("localNotificationActionPerformed",e)}catch(ku){return console.warn("Failed to add local notification tap listener:",ku),null}},onReceived(e){if(!Ql)return null;try{return Ql.addListener("localNotificationReceived",e)}catch(ku){return console.warn("Failed to add local notification received listener:",ku),null}}},Yl=Wl("App"),Gl={onUrlOpen(e){if(!Yl)return null;try{return Yl.addListener("appUrlOpen",e)}catch(ku){return console.warn("Failed to add URL open listener:",ku),null}},onStateChange(e){if(!Yl)return null;try{return Yl.addListener("appStateChange",e)}catch(ku){return console.warn("Failed to add state change listener:",ku),null}},async getInfo(){if(!Yl)return null;try{return await Yl.getInfo()}catch(ku){return null}}};const Xl=()=>!!Bl||"vibrate"in navigator;let Zl=!0;function ec(e){Zl=e,localStorage.setItem("mj_haptics_enabled",JSON.stringify(e))}function tc(){const e=localStorage.getItem("mj_haptics_enabled");return null!==e&&(Zl=JSON.parse(e)),Zl}async function nc(e){if(Zl&&Xl())try{Bl?await e.native():e.web&&navigator.vibrate(e.web)}catch(Su){console.warn("Haptic feedback failed:",Su)}}async function rc(){await nc({native:()=>ql.light(),web:10})}async function oc(){await nc({native:()=>ql.medium(),web:20})}async function ic(){await nc({native:()=>ql.heavy(),web:40})}async function sc(){await nc({native:()=>ql.success(),web:[10,50,10]})}async function ac(){await nc({native:()=>ql.warning(),web:[20,30,20]})}async function lc(){await nc({native:()=>ql.error(),web:[50,100,50,100,50]})}async function cc(){await nc({native:()=>ql.selection(),web:5})}async function uc(){await sc()}async function dc(){Zl&&Xl()&&(Bl?(await ql.success(),await new Promise(e=>setTimeout(e,150)),await ql.success(),await new Promise(e=>setTimeout(e,150)),await ql.heavy()):navigator.vibrate([20,80,20,80,40]))}async function hc(){Zl&&Xl()&&(Bl?(await ql.light(),await new Promise(e=>setTimeout(e,100)),await ql.medium(),await new Promise(e=>setTimeout(e,100)),await ql.heavy()):navigator.vibrate([10,50,20,50,40]))}async function fc(){await nc({native:()=>ql.success(),web:[15,30,15]})}async function pc(){await rc()}async function mc(){await nc({native:()=>ql.warning(),web:[20,50,20]})}async function gc(){await rc()}async function yc(){await oc()}async function vc(){await cc()}async function bc(){await oc()}async function xc(){await nc({native:()=>ql.medium(),web:15})}async function wc(){await lc()}async function kc(){await nc({native:()=>ql.light(),web:8})}async function Sc(){await nc({native:()=>ql.medium(),web:15})}async function _c(){Zl&&Xl()&&(Bl?(await ql.heavy(),await new Promise(e=>setTimeout(e,200)),await ql.heavy()):navigator.vibrate([40,100,40]))}async function Cc(){Bl&&Zl&&await ql.selection()}async function Ec(){await rc()}async function Pc(){await cc()}async function Tc(){await sc()}async function jc(){await oc()}async function Nc(){await rc()}async function Ac(){await nc({native:()=>ql.success(),web:[10,40,10]})}async function Oc(){await oc()}async function Lc(){await sc()}function Rc(){return{light:rc,medium:oc,heavy:ic,success:sc,warning:ac,error:lc,selection:cc,moodLogged:uc,achievementUnlocked:dc,streakMilestone:hc,taskCompleted:fc,messageSent:pc,notificationReceived:mc,buttonPress:gc,longPress:yc,sliderTick:vc,pullToRefresh:bc,swipeAction:xc,errorShake:wc,breathingTick:kc,breathingPhaseChange:Sc,timerComplete:_c,pageTransition:Cc,modalOpen:Ec,modalClose:Pc,positiveMood:Tc,neutralMood:jc,lowMood:Nc,journalSaved:Ac,copingToolStart:Oc,copingToolComplete:Lc,isEnabled:tc,setEnabled:ec,isAvailable:Xl}}let Dc=!0,Mc={},Ic=null,Fc=null;const Bc=[];function Vc(e){if(Dc){Mc=(0,E.A)((0,E.A)({},Mc),e);try{window.mixpanel&&window.mixpanel.people.set(e)}catch(Su){console.error("[Analytics] Set properties failed:",Su)}}}function zc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Dc)return;const n=(0,E.A)((0,E.A)({},t),{},{session_id:Ic,session_duration_seconds:Fc?Math.round((Date.now()-Fc)/1e3):null,timestamp:(new Date).toISOString(),platform:Uc(),app_version:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"});try{window.mixpanel?window.mixpanel.track(e,n):Wc(e,n)}catch(Su){console.error("[Analytics] Track event failed:",Su),Wc(e,n)}}function Uc(){var e,t;return null!==(e=window.Capacitor)&&void 0!==e&&null!==(t=e.isNativePlatform)&&void 0!==t&&t.call(e)?window.Capacitor.getPlatform():"web"}function Wc(e,t){Bc.length>=100&&Bc.shift(),Bc.push({eventName:e,properties:t,timestamp:Date.now()});try{localStorage.setItem("mj_analytics_queue",JSON.stringify(Bc))}catch(ku){}}const Hc=[{id:"welcome",type:"intro",title:"Hey there! \ud83d\udc4b",subtitle:"I'm MJ, your personal mental wellness companion",description:"I'm here to support you every day with understanding, encouragement, and practical tools for your wellbeing.",image:"\ud83c\udf1f",cta:"Let's Get Started"},{id:"name",type:"input",title:"What should I call you?",subtitle:"I'd love to know your name so we can get personal",placeholder:"Your name or nickname",field:"name",required:!0},{id:"goals",type:"multi-select",title:"What brings you here?",subtitle:"Select all that resonate with you",field:"goals",options:[{id:"stress",label:"Manage stress",icon:"\ud83d\ude24"},{id:"anxiety",label:"Reduce anxiety",icon:"\ud83d\ude30"},{id:"mood",label:"Track my mood",icon:"\ud83d\udcca"},{id:"habits",label:"Build healthy habits",icon:"\u2728"},{id:"sleep",label:"Sleep better",icon:"\ud83d\ude34"},{id:"focus",label:"Improve focus",icon:"\ud83c\udfaf"},{id:"confidence",label:"Build confidence",icon:"\ud83d\udcaa"},{id:"relationships",label:"Better relationships",icon:"\u2764\ufe0f"}],minSelections:1},{id:"mood_baseline",type:"mood-picker",title:"How are you feeling right now?",subtitle:"Let's start with a quick check-in",field:"baseline_mood"},{id:"communication",type:"single-select",title:"How would you like me to talk?",subtitle:"I'll match your preferred communication style",field:"communication_style",options:[{id:"supportive",label:"Warm & Supportive",description:"Gentle encouragement and empathy",icon:"\ud83e\udd17"},{id:"direct",label:"Direct & Clear",description:"Straightforward and practical",icon:"\ud83d\udccc"},{id:"playful",label:"Light & Playful",description:"Fun, upbeat energy",icon:"\ud83d\ude04"},{id:"coach",label:"Coach Mode",description:"Motivating and action-oriented",icon:"\ud83c\udfc6"}]},{id:"check_ins",type:"time-picker",title:"When should I check in?",subtitle:"I'll send gentle reminders at these times",fields:[{id:"morning_time",label:"Morning check-in",default:"08:00"},{id:"evening_time",label:"Evening reflection",default:"21:00"}]},{id:"notifications",type:"permission",title:"Stay connected",subtitle:"Get gentle reminders and encouragement",permission:"notifications",benefits:["Daily mood check-in reminders","Streak celebrations","Personalized insights","Crisis support when you need it"]},{id:"complete",type:"complete",title:"You're all set! \ud83c\udf89",subtitle:"I'm excited to be part of your journey",description:"Remember: Small steps lead to big changes. I'll be here whenever you need me.",cta:"Start My Journey"}];function qc(e){let{step:t,onNext:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-6",children:[(0,s.jsx)(Al.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"text-8xl mb-8",children:t.image}),(0,s.jsx)(Al.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-3",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xl text-sky-300 mb-4",children:t.subtitle}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-slate-400 max-w-sm mb-8",children:t.description}),(0,s.jsx)(Al.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileTap:{scale:.97},onClick:n,className:"bg-sky-500 hover:bg-sky-400 text-white font-semibold py-4 px-8 rounded-2xl text-lg",children:t.cta})]})}function Jc(e){let{step:t,value:n,onChange:r,onNext:o,canContinue:i}=e;return(0,s.jsxs)("div",{className:"px-6 py-8",children:[(0,s.jsx)(Al.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white mb-2 text-center",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-slate-400 text-center mb-8",children:t.subtitle}),(0,s.jsx)(Al.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onSubmit:e=>{e.preventDefault(),i&&o()},className:"max-w-sm mx-auto",children:(0,s.jsx)("input",{type:"text",value:n||"",onChange:e=>r(t.field,e.target.value),placeholder:t.placeholder,autoFocus:!0,className:"w-full bg-slate-800 border-2 border-slate-700 focus:border-sky-500 rounded-2xl px-6 py-4 text-white text-lg text-center placeholder-slate-500 outline-none transition-colors"})})]})}function $c(e){let{step:t,value:n=[],onChange:r,onNext:o}=e;const i=Rc();return(0,s.jsxs)("div",{className:"px-6 py-8",children:[(0,s.jsx)(Al.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white mb-2 text-center",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-slate-400 text-center mb-6",children:t.subtitle}),(0,s.jsx)(Al.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-2 gap-3 max-w-lg mx-auto",children:t.options.map((e,o)=>{const a=null===n||void 0===n?void 0:n.includes(e.id);return(0,s.jsxs)(Al.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.05*o},whileTap:{scale:.97},onClick:()=>(e=>{i.selection();const o=n||[],s=o.includes(e)?o.filter(t=>t!==e):[...o,e];r(t.field,s)})(e.id),className:"flex items-center gap-3 p-4 rounded-xl border-2 transition-all ".concat(a?"bg-sky-500/20 border-sky-500 text-white":"bg-slate-800/50 border-slate-700 text-slate-300 hover:border-slate-600"),children:[(0,s.jsx)("span",{className:"text-2xl",children:e.icon}),(0,s.jsx)("span",{className:"text-sm font-medium text-left",children:e.label}),a&&(0,s.jsx)(Al.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto w-5 h-5 bg-sky-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},e.id)})})]})}function Qc(e){let{step:t,value:n,onChange:r}=e;const o=Rc();return(0,s.jsxs)("div",{className:"px-6 py-8",children:[(0,s.jsx)(Al.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white mb-2 text-center",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-slate-400 text-center mb-6",children:t.subtitle}),(0,s.jsx)(Al.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-3 max-w-md mx-auto",children:t.options.map((e,i)=>{const a=n===e.id;return(0,s.jsxs)(Al.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+.1*i},whileTap:{scale:.98},onClick:()=>{return n=e.id,o.selection(),void r(t.field,n);var n},className:"w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all text-left ".concat(a?"bg-sky-500/20 border-sky-500":"bg-slate-800/50 border-slate-700 hover:border-slate-600"),children:[(0,s.jsx)("span",{className:"text-3xl",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold ".concat(a?"text-white":"text-slate-200"),children:e.label}),(0,s.jsx)("div",{className:"text-sm text-slate-400",children:e.description})]}),a&&(0,s.jsx)(Al.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 bg-sky-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},e.id)})})]})}function Kc(e){let{step:t,value:n,onChange:r}=e;const o=Rc();return(0,s.jsxs)("div",{className:"px-6 py-8",children:[(0,s.jsx)(Al.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white mb-2 text-center",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-slate-400 text-center mb-8",children:t.subtitle}),(0,s.jsx)(Al.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex justify-center gap-4",children:[{score:1,emoji:"\ud83d\ude22",label:"Really struggling"},{score:2,emoji:"\ud83d\ude14",label:"Not great"},{score:3,emoji:"\ud83d\ude10",label:"Okay"},{score:4,emoji:"\ud83d\ude42",label:"Pretty good"},{score:5,emoji:"\ud83d\ude0a",label:"Great!"}].map((e,i)=>{const a=n===e.score;return(0,s.jsxs)(Al.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.1*i},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>{return n=e.score,o.moodLogged(),void r(t.field,n);var n},className:"flex flex-col items-center gap-2 p-3 rounded-2xl transition-all ".concat(a?"bg-sky-500/20 ring-2 ring-sky-500":"hover:bg-slate-800"),children:[(0,s.jsx)("span",{className:"text-4xl transition-transform ".concat(a?"scale-125":""),children:e.emoji}),(0,s.jsx)("span",{className:"text-xs ".concat(a?"text-sky-300":"text-slate-500"),children:e.label})]},e.score)})})]})}function Yc(e){let{step:t,values:n,onChange:r}=e;return(0,s.jsxs)("div",{className:"px-6 py-8",children:[(0,s.jsx)(Al.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white mb-2 text-center",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-slate-400 text-center mb-8",children:t.subtitle}),(0,s.jsx)(Al.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-4 max-w-sm mx-auto",children:t.fields.map((e,t)=>(0,s.jsxs)(Al.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+.1*t},className:"bg-slate-800/50 rounded-xl p-4 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.label}),(0,s.jsx)("input",{type:"time",value:(null===n||void 0===n?void 0:n[e.id])||e.default,onChange:t=>r(e.id,t.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:border-sky-500 outline-none"})]},e.id))})]})}function Gc(e){let{step:t,onGrant:n,onSkip:r}=e;const[i,a]=(0,o.useState)("pending");return(0,s.jsxs)("div",{className:"px-6 py-8",children:[(0,s.jsx)(Al.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-20 h-20 bg-sky-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("span",{className:"text-4xl",children:"\ud83d\udd14"})}),(0,s.jsx)(Al.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white mb-2 text-center",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-slate-400 text-center mb-6",children:t.subtitle}),(0,s.jsx)(Al.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"bg-slate-800/50 rounded-xl p-5 mb-6 max-w-sm mx-auto",children:(0,s.jsx)("ul",{className:"space-y-3",children:t.benefits.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center gap-3 text-slate-300",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-sky-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-sky-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("span",{className:"text-sm",children:e})]},t))})}),(0,s.jsxs)(Al.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col gap-3 max-w-sm mx-auto",children:[(0,s.jsx)("button",{onClick:async()=>{a("granted"),n()},className:"w-full bg-sky-500 hover:bg-sky-400 text-white font-semibold py-4 rounded-xl transition-colors",children:"Enable Notifications"}),(0,s.jsx)("button",{onClick:r,className:"text-slate-400 hover:text-slate-300 text-sm py-2",children:"Maybe later"})]})]})}function Xc(e){let{step:t,userName:n,onComplete:r}=e;const i=Rc();return(0,o.useEffect)(()=>{i.achievementUnlocked()},[]),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-6",children:[(0,s.jsx)(Al.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"text-8xl mb-6",children:"\ud83c\udf89"}),(0,s.jsx)(Al.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-3",children:t.title}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xl text-sky-300 mb-4",children:n?"Nice to meet you, ".concat(n,"!"):t.subtitle}),(0,s.jsx)(Al.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-slate-400 max-w-sm mb-8",children:t.description}),(0,s.jsx)(Al.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileTap:{scale:.97},onClick:r,className:"bg-gradient-to-r from-sky-500 to-purple-500 hover:from-sky-400 hover:to-purple-400 text-white font-semibold py-4 px-8 rounded-2xl text-lg shadow-lg shadow-sky-500/30",children:t.cta})]})}const Zc=function(e){let{onComplete:t}=e;const[n,r]=(0,o.useState)(0),[i,a]=(0,o.useState)({}),[l]=(0,o.useState)(Date.now()),c=Rc(),u=Hc[n],d=n===Hc.length-1,h=0===n;(0,o.useEffect)(()=>{zc("Onboarding Started")},[]);const f=(0,o.useCallback)((e,t)=>{a(n=>(0,E.A)((0,E.A)({},n),{},{[e]:t}))},[]),p=(0,o.useCallback)(()=>{if(u.required){const e=i[u.field];return e&&("string"!==typeof e||e.trim())}if(u.minSelections){return(i[u.field]||[]).length>=u.minSelections}return"single-select"===u.type?!!i[u.field]:"mood-picker"!==u.type||!!i[u.field]},[u,i]),m=(0,o.useCallback)(()=>{if(p())if(c.buttonPress(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zc("Onboarding Step Completed",(0,E.A)({step_number:e,step_name:t.stepName},t))}(n,(0,E.A)({stepName:u.id},i)),d){const e=Math.round((Date.now()-l)/1e3);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zc("Onboarding Completed",(0,E.A)({total_duration_seconds:e.durationSeconds},e)),Vc({onboarding_completed:!0,onboarding_completed_at:(new Date).toISOString()})}((0,E.A)({durationSeconds:e},i)),t(i)}else r(e=>e+1)},[n,u,i,d,p,c,l,t]),g=(0,o.useCallback)(()=>{c.buttonPress(),n>0&&r(e=>e-1)},[n,c]),y=(0,o.useCallback)(()=>{!function(e){zc("Onboarding Skipped",{skipped_at_step:e})}(n),t(i)},[n,i,t]);return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950 flex flex-col",children:[!h&&!d&&(0,s.jsx)("div",{className:"px-6 pt-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:g,className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-white rounded-full hover:bg-slate-800 transition-colors",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("div",{className:"flex-1 h-2 bg-slate-800 rounded-full overflow-hidden",children:(0,s.jsx)(Al.div,{initial:{width:0},animate:{width:"".concat((n+1)/Hc.length*100,"%")},transition:{duration:.3},className:"h-full bg-gradient-to-r from-sky-500 to-purple-500 rounded-full"})}),(0,s.jsx)("button",{onClick:y,className:"text-slate-500 hover:text-slate-300 text-sm",children:"Skip"})]})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(Fl,{mode:"wait",children:(0,s.jsx)(Al.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(()=>{switch(u.type){case"intro":return(0,s.jsx)(qc,{step:u,onNext:m});case"input":return(0,s.jsx)(Jc,{step:u,value:i[u.field],onChange:f,onNext:m,canContinue:p()});case"multi-select":return(0,s.jsx)($c,{step:u,value:i[u.field],onChange:f,onNext:m});case"single-select":return(0,s.jsx)(Qc,{step:u,value:i[u.field],onChange:f});case"mood-picker":return(0,s.jsx)(Kc,{step:u,value:i[u.field],onChange:f});case"time-picker":return(0,s.jsx)(Yc,{step:u,values:i,onChange:f});case"permission":return(0,s.jsx)(Gc,{step:u,onGrant:m,onSkip:m});case"complete":return(0,s.jsx)(Xc,{step:u,userName:i.name,onComplete:m});default:return null}})()},u.id)})}),!["intro","permission","complete"].includes(u.type)&&(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(Al.button,{whileTap:{scale:.97},onClick:m,disabled:!p(),className:"w-full py-4 rounded-2xl font-semibold text-lg transition-all ".concat(p()?"bg-sky-500 hover:bg-sky-400 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed"),children:"Continue"})})]})},eu={Chat:()=>(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),Mood:()=>(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Tasks:()=>(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),Journal:()=>(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Profile:()=>(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Send:()=>(0,s.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),Plus:()=>(0,s.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),Check:()=>(0,s.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),Fire:()=>(0,s.jsx)("span",{className:"text-lg",children:"\ud83d\udd25"}),Star:()=>(0,s.jsx)("span",{className:"text-lg",children:"\u2b50"}),Settings:()=>(0,s.jsxs)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Logout:()=>(0,s.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})},tu=e=>["\ud83d\ude22","\ud83d\ude14","\ud83d\ude10","\ud83d\ude42","\ud83d\ude04"][Math.max(0,Math.min(4,(e||3)-1))],nu=e=>["Struggling","Down","Okay","Good","Great"][Math.max(0,Math.min(4,(e||3)-1))];function ru(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(!1),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),p=(0,o.useRef)(null),m=(0,o.useRef)(null),g="mj_chat_history",y="mj_conversation_id";(0,o.useEffect)(()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]),(0,o.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&f(!1)};return h&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[h]),(0,o.useEffect)(()=>{if(e.length>0)try{localStorage.setItem(g,JSON.stringify(e))}catch(ku){}},[e]);const v=()=>{const e=(new Date).getHours(),t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()];let n="Hey";n=e>=5&&e<12?"Good morning":e>=12&&e<17?"Good afternoon":e>=17&&e<21?"Good evening":"Hey there, night owl";const r=localStorage.getItem("mj_user_profile"),o=r&&JSON.parse(r).name||"Friend",i="Friend"!==o?", ".concat(o):"";return{id:"welcome",role:"assistant",content:"".concat(n).concat(i,"! \ud83d\udc4b Happy ").concat(t,"! I'm MJ, your personal wellness companion. I'm here to listen, support, and help you take small steps toward feeling your best. How are you doing today?"),timestamp:(new Date).toISOString()}};(0,o.useEffect)(()=>{(async()=>{const e=P.tC.isAuthenticated(),n=localStorage.getItem(g),r=localStorage.getItem(y);if(e)try{var o;const e=await P.EC.create();c((null===(o=e.conversation)||void 0===o?void 0:o.id)||e.id),d(!1)}catch(Su){d(!0),c(r||"guest-"+Date.now())}else if(d(!0),r)c(r);else try{var i;const e=await P.lu.createSession(),t=e.session_id||(null===(i=e.conversation)||void 0===i?void 0:i.id)||"guest-"+Date.now();c(t),localStorage.setItem(y,t)}catch(Su){const t="guest-"+Date.now();c(t),localStorage.setItem(y,t)}if(n)try{const e=JSON.parse(n);if(Array.isArray(e)&&e.length>0)return void t(e)}catch(ku){}t([v()])})()},[]);const b=async()=>{if(!n.trim()||i)return;const o={id:Date.now().toString(),role:"user",content:n.trim(),timestamp:(new Date).toISOString()},s=[...e,o];t(s),r(""),a(!0);try{let e;if(u){var c;const t=s.filter(e=>"welcome"!==e.id).map(e=>({role:e.role,content:e.content})),r=localStorage.getItem("mj_user_profile"),o=r?JSON.parse(r):{},i=o.name||"Friend",a=localStorage.getItem("mj_guest_moods"),u=a?JSON.parse(a).slice(0,5):[],d=localStorage.getItem("mj_guest_tasks"),h=d?JSON.parse(d):[],f=localStorage.getItem("mj_guest_journal"),p=f?JSON.parse(f).slice(0,3):[],m=await P.lu.sendMessage(n.trim(),t,i,l,{profile:{interests:o.interests||[],struggles:o.struggles||[],communicationPref:o.communicationPref||"friendly"},recentMoods:u,todayTasks:h,recentJournal:p});e=(null===(c=m.mj_response)||void 0===c?void 0:c.content)||m.content||"I hear you. Tell me more about that."}else{var d,h;const t=await P.EC.sendMessage(l,n.trim());e=(null===(d=t.mj_response)||void 0===d?void 0:d.content)||(null===(h=t.message)||void 0===h?void 0:h.content)||t.content||"I hear you. Tell me more about that."}const r={id:(Date.now()+1).toString(),role:"assistant",content:e,timestamp:(new Date).toISOString()};t(e=>[...e,r])}catch(Su){console.error("Chat error:",Su),t(e=>[...e,{id:(Date.now()+1).toString(),role:"assistant",content:"I'm having trouble connecting right now. Please try again in a moment. \ud83d\udc99",timestamp:(new Date).toISOString()}])}finally{a(!1)}};return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-slate-900",children:[(0,s.jsx)("div",{className:"px-4 py-3 bg-slate-800/80 backdrop-blur border-b border-slate-700/50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-400 to-violet-500 flex items-center justify-center text-white font-bold text-lg",children:"MJ"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-white font-semibold",children:"MJ"}),(0,s.jsx)("p",{className:"text-xs text-emerald-400",children:"Online \u2022 Ready to chat"})]})]}),(0,s.jsxs)("div",{className:"relative",ref:m,children:[(0,s.jsx)("button",{onClick:()=>f(!h),className:"w-9 h-9 rounded-lg hover:bg-slate-700/50 flex items-center justify-center text-slate-400 hover:text-white transition-colors","aria-label":"Chat options",children:(0,s.jsxs)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"2"}),(0,s.jsx)("circle",{cx:"12",cy:"19",r:"2"})]})}),h&&(0,s.jsx)("div",{className:"absolute right-0 top-full mt-1 bg-slate-700 rounded-xl shadow-lg border border-slate-600/50 py-1 min-w-[180px] z-50",children:(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem(g),localStorage.removeItem(y),f(!1),t([v()]);if(!P.tC.isAuthenticated()){const e="guest-"+Date.now();c(e),localStorage.setItem(y,e)}},className:"w-full px-4 py-2.5 text-left text-sm text-slate-200 hover:bg-slate-600/50 flex items-center gap-2.5 transition-colors",children:[(0,s.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear Chat"]})})]})]})}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[e.map(e=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsx)("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 ".concat("user"===e.role?"bg-sky-600 text-white rounded-tr-sm":"bg-slate-800 text-slate-200 rounded-tl-sm"),children:(0,s.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.content})})},e.id)),i&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-slate-800 rounded-2xl rounded-tl-sm px-4 py-3",children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,s.jsx)("span",{className:"w-2 h-2 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,s.jsx)("span",{className:"w-2 h-2 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,s.jsx)("div",{ref:p})]}),(0,s.jsx)("div",{className:"px-4 py-3 bg-slate-800/80 backdrop-blur border-t border-slate-700/50",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:"Talk to MJ...",rows:1,className:"flex-1 bg-slate-700/50 text-white rounded-xl px-4 py-3 text-sm resize-none outline-none focus:ring-2 focus:ring-sky-500/50 placeholder-slate-400",style:{minHeight:"44px",maxHeight:"120px"}}),(0,s.jsx)("button",{onClick:b,disabled:!n.trim()||i,className:"w-11 h-11 rounded-xl bg-sky-600 hover:bg-sky-500 disabled:bg-slate-700 disabled:text-slate-500 text-white flex items-center justify-center transition-colors",children:(0,s.jsx)(eu.Send,{})})]})})]})}function ou(){const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)([]),[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),h=!P.tC.isAuthenticated();(0,o.useEffect)(()=>{(async()=>{if(h){const e=localStorage.getItem("mj_guest_moods");return void(e&&a(JSON.parse(e)))}try{const e=await P._h.list();a(e.moods||e||[])}catch(Su){console.error("Failed to load moods:",Su);const t=localStorage.getItem("mj_guest_moods");t&&a(JSON.parse(t))}})()},[]);return(0,s.jsxs)("div",{className:"h-full overflow-y-auto bg-slate-900 px-4 py-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"How are you feeling?"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"Track your mood to discover patterns over time"}),l?(0,s.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-2xl p-6 text-center mb-6",children:[(0,s.jsx)("span",{className:"text-4xl block mb-2",children:"\u2728"}),(0,s.jsx)("p",{className:"text-emerald-400 font-medium",children:"Mood logged! Keep it up!"})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-6 mb-6",children:[(0,s.jsx)("div",{className:"flex justify-between mb-4",children:[1,2,3,4,5].map(n=>(0,s.jsxs)("button",{onClick:()=>t(n),className:"flex flex-col items-center gap-1 p-3 rounded-xl transition-all ".concat(e===n?"bg-sky-600/20 ring-2 ring-sky-500 scale-110":"hover:bg-slate-700/50"),children:[(0,s.jsx)("span",{className:"text-3xl",children:tu(n)}),(0,s.jsx)("span",{className:"text-xs ".concat(e===n?"text-sky-400":"text-slate-400"),children:nu(n)})]},n))}),(0,s.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"Add a note about how you're feeling...",rows:3,className:"w-full bg-slate-700/50 text-white rounded-xl px-4 py-3 text-sm resize-none outline-none focus:ring-2 focus:ring-sky-500/50 placeholder-slate-400 mt-2"}),(0,s.jsx)("button",{onClick:async()=>{if(!e||u)return;d(!0);const o={mood_score:e,note:n,created_at:(new Date).toISOString()};try{h||await P._h.log({mood_score:e,note:n||void 0,source:"manual"});const s=[o,...i].slice(0,50);localStorage.setItem("mj_guest_moods",JSON.stringify(s)),c(!0),a(s),setTimeout(()=>{c(!1),t(null),r("")},2e3)}catch(Su){console.error("Failed to log mood:",Su);const n=[o,...i].slice(0,50);localStorage.setItem("mj_guest_moods",JSON.stringify(n)),c(!0),a(n),setTimeout(()=>{c(!1),t(null),r("")},2e3)}finally{d(!1)}},disabled:!e||u,className:"w-full mt-4 bg-sky-600 hover:bg-sky-500 disabled:bg-slate-700 disabled:text-slate-500 text-white py-3 rounded-xl font-medium transition-colors",children:u?"Logging...":"Log Mood"})]})}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Recent"}),(0,s.jsxs)("div",{className:"space-y-2",children:[i.slice(0,7).map((e,t)=>(0,s.jsxs)("div",{className:"bg-slate-800 rounded-xl px-4 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:tu(e.mood_score)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white text-sm font-medium",children:nu(e.mood_score)}),e.note&&(0,s.jsx)("p",{className:"text-slate-400 text-xs line-clamp-1",children:e.note})]})]}),(0,s.jsx)("span",{className:"text-slate-500 text-xs",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},t)),0===i.length&&(0,s.jsx)("p",{className:"text-slate-500 text-sm text-center py-8",children:"No mood entries yet. Start tracking above!"})]})]})}function iu(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(!0),l=!P.tC.isAuthenticated(),c=e=>{localStorage.setItem("mj_guest_tasks",JSON.stringify(e))};(0,o.useEffect)(()=>{(async()=>{if(l){const e=localStorage.getItem("mj_guest_tasks");return e&&t(JSON.parse(e)),void a(!1)}try{const e=await P.ee.list();t(e.tasks||e||[])}catch(Su){console.error("Failed to load tasks:",Su);const n=localStorage.getItem("mj_guest_tasks");n&&t(JSON.parse(n))}finally{a(!1)}})()},[]);const u=async()=>{if(n.trim()){if(l){const o=[{id:"task_"+Date.now(),title:n.trim(),difficulty:"small",status:"pending",created_at:(new Date).toISOString()},...e];return t(o),c(o),void r("")}try{const e=await P.ee.create({title:n.trim(),difficulty:"small"});t(t=>[e.task||e,...t]),r("")}catch(Su){console.error("Failed to add task:",Su)}}},d=e.filter(e=>"completed"!==e.status),h=e.filter(e=>"completed"===e.status);return(0,s.jsxs)("div",{className:"h-full overflow-y-auto bg-slate-900 px-4 py-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Today's Tasks"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"Small steps lead to big changes"}),(0,s.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,s.jsx)("input",{value:n,onChange:e=>r(e.target.value),onKeyDown:e=>"Enter"===e.key&&u(),placeholder:"Add a new task...",className:"flex-1 bg-slate-800 text-white rounded-xl px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-sky-500/50 placeholder-slate-400"}),(0,s.jsx)("button",{onClick:u,disabled:!n.trim(),className:"w-11 h-11 rounded-xl bg-sky-600 hover:bg-sky-500 disabled:bg-slate-700 text-white flex items-center justify-center transition-colors",children:(0,s.jsx)(eu.Plus,{})})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-6",children:[d.map(n=>(0,s.jsxs)("div",{className:"bg-slate-800 rounded-xl px-4 py-3 flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>(async n=>{if(l){const r=e.map(e=>e.id===n?(0,E.A)((0,E.A)({},e),{},{status:"completed"}):e);return t(r),void c(r)}try{await P.ee.complete(n),t(e=>e.map(e=>e.id===n?(0,E.A)((0,E.A)({},e),{},{status:"completed"}):e))}catch(Su){console.error("Failed to complete task:",Su)}})(n.id),className:"w-6 h-6 rounded-full border-2 border-slate-600 hover:border-sky-500 flex items-center justify-center transition-colors shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-white text-sm",children:n.title}),n.difficulty&&(0,s.jsx)("span",{className:"text-xs text-slate-500 capitalize",children:n.difficulty})]})]},n.id)),!i&&0===d.length&&(0,s.jsx)("p",{className:"text-slate-500 text-sm text-center py-4",children:"All caught up! Add a task above."})]}),h.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:["Completed ",(0,s.jsxs)("span",{className:"text-sm text-emerald-400",children:["(",h.length,")"]})]}),(0,s.jsx)("div",{className:"space-y-2",children:h.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"bg-slate-800/50 rounded-xl px-4 py-3 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center shrink-0",children:(0,s.jsx)(eu.Check,{})}),(0,s.jsx)("p",{className:"text-slate-500 text-sm line-through",children:e.title})]},e.id))})]})]})}function su(){const[e,t]=(0,o.useState)(""),[r,i]=(0,o.useState)(!1),[a,l]=(0,o.useState)(""),c=["What's on your mind right now?","What are you grateful for today?","What's one thing that went well recently?","How did you handle a challenge today?","What would make tomorrow a great day?","Describe a moment that made you smile today.","What's something you're looking forward to?"];(0,o.useEffect)(()=>{l(c[Math.floor(Math.random()*c.length)])},[]);return(0,s.jsxs)("div",{className:"h-full overflow-y-auto bg-slate-900 px-4 py-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Journal"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"A safe space for your thoughts"}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-violet-600/20 to-sky-600/20 border border-violet-500/20 rounded-2xl p-5 mb-6",children:[(0,s.jsx)("p",{className:"text-xs text-violet-400 font-medium mb-2",children:"TODAY'S PROMPT"}),(0,s.jsx)("p",{className:"text-white text-lg leading-relaxed",children:a})]}),r?(0,s.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-2xl p-6 text-center",children:[(0,s.jsx)("span",{className:"text-4xl block mb-2",children:"\ud83d\udcdd"}),(0,s.jsx)("p",{className:"text-emerald-400 font-medium",children:"Entry saved!"})]}):(0,s.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-4",children:[(0,s.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Start writing...",rows:8,className:"w-full bg-transparent text-white text-sm leading-relaxed resize-none outline-none placeholder-slate-500"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-700/50",children:[(0,s.jsxs)("span",{className:"text-xs text-slate-500",children:[e.split(/\s+/).filter(Boolean).length," words"]}),(0,s.jsx)("button",{onClick:async()=>{if(!e.trim())return;if(!P.tC.isAuthenticated()){const n=localStorage.getItem("mj_guest_journal")||"[]",r=JSON.parse(n);return r.unshift({id:"j_"+Date.now(),content:e.trim(),prompt_text:a,created_at:(new Date).toISOString()}),localStorage.setItem("mj_guest_journal",JSON.stringify(r.slice(0,50))),i(!0),void setTimeout(()=>{i(!1),t(""),l(c[Math.floor(Math.random()*c.length)])},2e3)}try{const{JournalAPI:r}=await Promise.resolve().then(n.bind(n,676));await r.create({content:e.trim(),prompt_text:a,mood_score:3}),i(!0),setTimeout(()=>{i(!1),t(""),l(c[Math.floor(Math.random()*c.length)])},2e3)}catch(Su){console.error("Failed to save journal entry:",Su);const r=localStorage.getItem("mj_guest_journal")||"[]",o=JSON.parse(r);o.unshift({id:"j_"+Date.now(),content:e.trim(),prompt_text:a,created_at:(new Date).toISOString()}),localStorage.setItem("mj_guest_journal",JSON.stringify(o.slice(0,50))),i(!0),setTimeout(()=>{i(!1),t(""),l(c[Math.floor(Math.random()*c.length)])},2e3)}},disabled:!e.trim(),className:"bg-sky-600 hover:bg-sky-500 disabled:bg-slate-700 disabled:text-slate-500 text-white px-6 py-2 rounded-xl text-sm font-medium transition-colors",children:"Save Entry"})]})]})]})}function au(){var e,t;const{user:n,profile:r,logout:i,login:a}=ot(),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!1),[h,f]=(0,o.useState)({email:"",password:"",confirmPassword:""}),[p,m]=(0,o.useState)(""),[g,y]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),x=!P.tC.isAuthenticated();(0,o.useEffect)(()=>{(async()=>{if(x){const e=JSON.parse(localStorage.getItem("mj_guest_moods")||"[]"),t=JSON.parse(localStorage.getItem("mj_guest_tasks")||"[]"),n=JSON.parse(localStorage.getItem("mj_guest_journal")||"[]");return void c([{streak_type:"mood_check_ins",current_streak:e.length},{streak_type:"tasks_completed",current_streak:t.filter(e=>"completed"===e.status).length},{streak_type:"journal_entries",current_streak:n.length}])}try{const e=await P.Iw.getStreaks();c(e.streaks||e||[])}catch(Su){console.error("Failed to load streaks:",Su)}})()},[]);const w=(null===r||void 0===r?void 0:r.display_name)||(null===r||void 0===r?void 0:r.name)||(null===n||void 0===n?void 0:n.display_name)||(null===n||void 0===n||null===(e=n.email)||void 0===e?void 0:e.split("@")[0])||"User";return(0,s.jsxs)("div",{className:"h-full overflow-y-auto bg-slate-900 px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-sky-400 to-violet-500 flex items-center justify-center text-white text-2xl font-bold",children:null===(t=w[0])||void 0===t?void 0:t.toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:w}),(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:(null===n||void 0===n?void 0:n.email)||(null===r||void 0===r?void 0:r.email)||(x?"Guest User":"")})]})]}),x&&!u&&!v&&(0,s.jsxs)("div",{className:"bg-gradient-to-r from-sky-900/60 to-violet-900/60 border border-sky-500/30 rounded-2xl p-5 mb-6",children:[(0,s.jsx)("h2",{className:"text-white font-semibold mb-1",children:"Save your progress"}),(0,s.jsx)("p",{className:"text-slate-300 text-sm mb-4",children:"Create a free account to keep your chats, moods, and tasks safe across devices."}),(0,s.jsx)("button",{onClick:()=>d(!0),className:"w-full bg-sky-500 hover:bg-sky-400 text-white font-semibold rounded-xl py-3 transition-colors",children:"Create Free Account"})]}),x&&u&&!v&&(0,s.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-5 mb-6",children:[(0,s.jsx)("h2",{className:"text-white font-semibold mb-4",children:"Create Your Account"}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m(""),h.password===h.confirmPassword)if(h.password.length<8)m("Password must be at least 8 characters");else{y(!0);try{const e=(()=>{const e=JSON.parse(localStorage.getItem("mj_conversations")||"[]"),t=JSON.parse(localStorage.getItem("mj_guest_moods")||"[]");return{conversations:e,moods:t,tasks:JSON.parse(localStorage.getItem("mj_guest_tasks")||"[]"),journal_entries:JSON.parse(localStorage.getItem("mj_guest_journal")||"[]"),profile:JSON.parse(localStorage.getItem("mj_user_profile")||"{}"),streaks:{current_streak:t.length>0?1:0,longest_streak:t.length>0?1:0,total_completions:t.length}}})();await P.lu.migrateToAccount(h.email,h.password,w,e);b(!0),setTimeout(()=>window.location.reload(),1500)}catch(Su){m(Su.message||"Failed to create account. Please try again.")}finally{y(!1)}}else m("Passwords do not match")},className:"space-y-3",children:[(0,s.jsx)("input",{type:"email",placeholder:"Email address",value:h.email,onChange:e=>f((0,E.A)((0,E.A)({},h),{},{email:e.target.value})),className:"w-full bg-slate-700 text-white rounded-xl px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-sky-500",required:!0}),(0,s.jsx)("input",{type:"password",placeholder:"Password (8+ characters)",value:h.password,onChange:e=>f((0,E.A)((0,E.A)({},h),{},{password:e.target.value})),className:"w-full bg-slate-700 text-white rounded-xl px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-sky-500",required:!0,minLength:8}),(0,s.jsx)("input",{type:"password",placeholder:"Confirm password",value:h.confirmPassword,onChange:e=>f((0,E.A)((0,E.A)({},h),{},{confirmPassword:e.target.value})),className:"w-full bg-slate-700 text-white rounded-xl px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-sky-500",required:!0}),p&&(0,s.jsx)("p",{className:"text-red-400 text-sm",children:p}),(0,s.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-sky-500 hover:bg-sky-400 disabled:bg-slate-600 text-white font-semibold rounded-xl py-3 transition-colors",children:g?"Creating account...":"Create Account & Save Data"}),(0,s.jsx)("button",{type:"button",onClick:()=>d(!1),className:"w-full text-slate-400 text-sm py-2",children:"Cancel"})]})]}),v&&(0,s.jsxs)("div",{className:"bg-green-900/40 border border-green-500/30 rounded-2xl p-5 mb-6 text-center",children:[(0,s.jsx)("p",{className:"text-green-400 font-semibold text-lg mb-1",children:"Account Created!"}),(0,s.jsx)("p",{className:"text-slate-300 text-sm",children:"Your data has been saved. Refreshing..."})]}),(0,s.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-5 mb-6",children:[(0,s.jsxs)("h2",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[(0,s.jsx)(eu.Fire,{})," Streaks"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[l&&Array.isArray(l)&&l.map((e,t)=>(0,s.jsxs)("div",{className:"bg-slate-700/50 rounded-xl p-3 text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-sky-400",children:e.current_streak||0}),(0,s.jsx)("p",{className:"text-xs text-slate-400 capitalize mt-1",children:(e.streak_type||"").replace(/_/g," ")})]},t)),(!l||0===l.length)&&(0,s.jsx)("p",{className:"text-slate-500 text-sm col-span-2 text-center py-2",children:"Start building your streaks!"})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:!x&&(0,s.jsxs)("button",{onClick:i,className:"w-full bg-slate-800 hover:bg-slate-700 text-red-400 rounded-xl px-4 py-3 flex items-center gap-3 transition-colors",children:[(0,s.jsx)(eu.Logout,{}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Sign Out"})]})}),(0,s.jsx)("p",{className:"text-center text-slate-600 text-xs mt-8",children:"MJ's Superstars v1.0.0"})]})}const lu=function(){const{isAuthenticated:e,profile:t,loading:n,user:r,setProfile:i,completeOnboarding:a}=ot(),[l,c]=(0,o.useState)("chat"),u=()=>{const e={id:"guest_"+Date.now(),name:"Friend",isGuest:!0,onboardingComplete:!1,createdAt:(new Date).toISOString()};i(e)},d=()=>{console.log("Auth successful")},h=async e=>{try{await a(e)}catch(Su){console.error("Onboarding sync error:",Su)}};if(n)return(0,s.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-sky-400 to-violet-500 flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4 animate-pulse",children:"MJ"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:"Loading..."})]})});if(window.location.pathname.includes("reset-password")&&new URLSearchParams(window.location.search).get("token"))return(0,s.jsx)(wt,{onSkip:u,onSuccess:d,showSkip:!1});if(!e)return(0,s.jsx)(wt,{onSkip:u,onSuccess:d});if(!((null===t||void 0===t?void 0:t.onboarding_completed)||(null===t||void 0===t?void 0:t.onboardingComplete)||(null===r||void 0===r?void 0:r.onboarding_completed)))return(0,s.jsx)(Zc,{onComplete:h});const f=[{id:"chat",label:"Chat",icon:eu.Chat},{id:"mood",label:"Mood",icon:eu.Mood},{id:"tasks",label:"Tasks",icon:eu.Tasks},{id:"journal",label:"Journal",icon:eu.Journal},{id:"profile",label:"Profile",icon:eu.Profile}];return(0,s.jsxs)("div",{className:"min-h-screen bg-slate-900 flex flex-col",style:{height:"100dvh"},children:[(0,s.jsx)("div",{className:"flex-1 overflow-hidden",children:(()=>{switch(l){case"chat":default:return(0,s.jsx)(ru,{});case"mood":return(0,s.jsx)(ou,{});case"tasks":return(0,s.jsx)(iu,{});case"journal":return(0,s.jsx)(su,{});case"profile":return(0,s.jsx)(au,{})}})()}),(0,s.jsx)("div",{className:"bg-slate-800/90 backdrop-blur border-t border-slate-700/50 px-2 pb-safe",children:(0,s.jsx)("div",{className:"flex justify-around py-2",children:f.map(e=>{const t=e.icon,n=l===e.id;return(0,s.jsxs)("button",{onClick:()=>c(e.id),className:"flex flex-col items-center gap-1 px-3 py-1.5 rounded-lg transition-colors ".concat(n?"text-sky-400":"text-slate-500 hover:text-slate-300"),children:[(0,s.jsx)(t,{}),(0,s.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.id)})})})]})},cu={open_mood_log:{screen:"MoodLog",params:{}},open_chat:{screen:"Chat",params:{startNew:!0}},open_journal:{screen:"Journal",params:{mode:"reflection"}},open_progress:{screen:"Progress",params:{}},open_achievements:{screen:"Progress",params:{tab:"achievements"}},open_tasks:{screen:"Tasks",params:{}},open_breathing:{screen:"Breathing",params:{}},open_coping:{screen:"CopingTools",params:{}}};let uu=[],du=null;function hu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=cu[e];n?du?du(n.screen,(0,E.A)((0,E.A)((0,E.A)({},n.params),t),{},{fromNotification:!0})):localStorage.setItem("mj_pending_navigation",JSON.stringify({screen:n.screen,params:(0,E.A)((0,E.A)({},n.params),t)})):console.warn("Unknown notification action:",e)}async function fu(){if(!Bl)return void console.log("Notification handlers: Web mode - limited functionality");const e=$l.onRegistration(async e=>{console.log("Push token received, registering with backend...");try{await P.uB.subscribe({device_token:e.value,device_type:Ul?"ios":"android"}),console.log("Device token registered with backend successfully")}catch(Su){console.error("Failed to register device token:",Su),localStorage.setItem("mj_pending_device_token",e.value)}});uu.push(e);const t=$l.onPushTapped(e=>{var t;console.log("Push notification tapped:",e);const n=(null===e||void 0===e||null===(t=e.notification)||void 0===t?void 0:t.data)||(null===e||void 0===e?void 0:e.data)||{},r=n.action||n.type;r&&hu(r,n)});uu.push(t);const n=$l.onPushReceived(e=>{console.log("Push notification received:",e),function(e){var t,n,r;const o=(null===e||void 0===e?void 0:e.title)||(null===e||void 0===e||null===(t=e.notification)||void 0===t?void 0:t.title),i=(null===e||void 0===e?void 0:e.body)||(null===e||void 0===e||null===(n=e.notification)||void 0===n?void 0:n.body),s=(null===e||void 0===e?void 0:e.data)||(null===e||void 0===e||null===(r=e.notification)||void 0===r?void 0:r.data)||{};gu&&gu({title:o,body:i,data:s,onPress:()=>{const e=s.action||s.type;e&&hu(e,s)}})}(e)});uu.push(n);const r=Kl.onTapped(e=>{var t;console.log("Local notification tapped:",e);const n=(null===e||void 0===e||null===(t=e.notification)||void 0===t?void 0:t.extra)||(null===e||void 0===e?void 0:e.extra)||{};hu(n.action||"open_mood_log",n)});uu.push(r);const o=Gl.onUrlOpen(e=>{console.log("App URL opened:",e.url),mu(e.url)});uu.push(o),console.log("Notification handlers initialized")}function pu(){uu.forEach(e=>{null!==e&&void 0!==e&&e.remove&&e.remove()}),uu=[]}function mu(e){try{const t=new URL(e);if("mjsuperstars:"===t.protocol){const e=t.hostname||t.pathname.replace("/","");return hu(e,Object.fromEntries(t.searchParams)),!0}if("mjsuperstars.app"===t.hostname){const e=t.pathname.split("/").filter(Boolean)[0],n=Object.fromEntries(t.searchParams);if(e)return hu("open_".concat(e),n),!0}return!1}catch(Su){return console.error("Error parsing deep link:",Su),!1}}let gu=null;const yu={apiUrl:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://mj-superstars.onrender.com/api",socketUrl:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SOCKET_URL||"https://mj-superstars.onrender.com",isDev:!1};class vu extends o.Component{constructor(e){super(e),this.state={hasError:!1,error:null,eventId:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("App Error:",e,t);const n=b.uiError(e,"AppRoot");this.setState({eventId:n})}render(){return this.state.hasError?(0,s.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-8 max-w-md text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\ude14"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-white mb-2",children:"Something went wrong"}),(0,s.jsx)("p",{className:"text-slate-400 mb-6",children:"MJ hit a bump. Let's try again."}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-sky-600 hover:bg-sky-500 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Refresh App"}),this.state.eventId&&(0,s.jsxs)("p",{className:"mt-4 text-xs text-slate-500",children:["Error ID: ",this.state.eventId]}),yu.isDev&&this.state.error&&(0,s.jsx)("pre",{className:"mt-4 text-left text-xs text-red-400 bg-slate-900 p-4 rounded overflow-auto max-h-40",children:this.state.error.toString()})]})}):this.props.children}}function bu(){const[e,t]=o.useState(navigator.onLine),[n,r]=o.useState(!1),[i,a]=o.useState(!1);return o.useEffect(()=>{const e=()=>{t(!0),n&&(a(!0),setTimeout(()=>a(!1),3e3))},o=()=>{t(!1),r(!0)};return window.addEventListener("online",e),window.addEventListener("offline",o),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",o)}},[n]),o.useEffect(()=>{const e=e=>{const{succeeded:t,failed:n}=e.detail||{};t>0&&console.log("Synced ".concat(t," offline changes").concat(n>0?", ".concat(n," failed"):""))};return window.addEventListener("offline:synced",e),()=>window.removeEventListener("offline:synced",e)},[]),i?(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-emerald-600 text-white text-center py-2 text-sm z-50 transition-all",children:"Back online \u2014 syncing your changes"}):e?null:(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-amber-600 text-white text-center py-2 text-sm z-50",children:"You're offline. Changes will sync when you reconnect."})}function xu(){return o.useEffect(()=>(fu(),()=>pu()),[]),null}const wu=function(){return(0,s.jsx)(vu,{children:(0,s.jsx)(rt,{children:(0,s.jsxs)(lt,{children:[(0,s.jsx)(bu,{}),(0,s.jsx)(xu,{}),(0,s.jsx)(lu,{})]})})})};C.init();i.createRoot(document.getElementById("root")).render((0,s.jsx)(o.StrictMode,{children:(0,s.jsx)(wu,{})}))})();
//# sourceMappingURL=main.489397cf.js.map